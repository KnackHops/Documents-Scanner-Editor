(this["webpackJsonpdocuments-scanner-editor"]=this["webpackJsonpdocuments-scanner-editor"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(29),i=n.n(o),s=(n(42),n(43),n(30)),a=n(31),l=n(37),u=n(36),d=n(0),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).state={hasError:!1},c}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(d.jsx)("h1",{className:"errorCatcherDialog",children:"oops! something went wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(c.Component),b=n(4),h=n(6),f=n(2),m=(n(45),function(e){var t=e.panelStatus,n=e.menuClicked,c=e.logOutHandler,r=e.role;return Object(d.jsx)("div",{className:"profile-panel ".concat(t),children:Object(d.jsx)("ul",{className:"fd profile-list",children:"active"===t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"panel-btn-container",children:Object(d.jsx)("button",{className:"panel-btn",onClick:n,data:"profile",children:"Profile"})}),"admin"===r?Object(d.jsx)("li",{className:"panel-btn-container",children:Object(d.jsx)("button",{className:"panel-btn",onClick:n,data:"admin",children:"Admin"})}):"",Object(d.jsx)("li",{className:"panel-btn-container",children:Object(d.jsx)("button",{className:"panel-btn",onClick:c,children:"Log Out"})})]}):""})})}),O=function(e){var t=e.handler,n=e.documentList,c=e.fromWhere;return Object(d.jsx)("div",{className:"".concat(c," document-list-container"),children:Object(d.jsx)("ul",{className:"".concat(c," document-list"),children:n.documents?n.documents.map((function(e){return Object(d.jsx)("li",{id:"doc".concat(e.id),onClick:function(){return t(e.id)},className:e.pinned?"is-pinned":"not-pinned",children:e.title},e.id)})):"Empty!"})})},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(c.useState)({documents:null}),r=Object(f.a)(n,2),o=r[0],i=r[1],s=Object(c.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=t?n?"pinned":"nonpinned":"default";fetch("http://127.0.0.1:5000/document/fetch/?id=".concat(e,"&which_get=").concat(c),{method:"GET",mode:"cors"}).then((function(e){if(e.ok)return e.json();throw Error("error fetching!")})).then((function(e){var t=e._documents,n=t.filter((function(e){return e.pinned})),c=t.filter((function(e){return!e.pinned}));c=c||[],n=(n=n||[]).concat(c),i({documents:n})})).catch((function(e){console.log(e)}))}),[e]);return Object(c.useEffect)((function(){(e||0===e)&&t&&s()}),[e,s,t]),{documentList:o,documentFetch:s,setDocumentList:i}},v=function(e){var t=e.arr,n=e.classCon;return Object(d.jsx)("ul",{className:"fd nav-list ".concat(n,"-list-con"),children:t.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)("button",{onClick:e.handler,children:e.label})},t)}))})},x=(n(46),n(32)),g=n.n(x),w=function(){var e=Object(c.useState)({isLoaded:!1}),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(c.useContext)(ae).id,i=Object(c.useContext)(le).popUpHandler,s=Object(c.useContext)(de).setDocument;Object(c.useEffect)((function(){var e;(null===n||void 0===n?void 0:n.data)&&(e=null===n||void 0===n?void 0:n.data,fetch("http://127.0.0.1:5000/document/fetch-doc-qr/?str_code=".concat(e,"&userid=").concat(o),{method:"GET",mode:"cors"}).then((function(e){if(e.ok)return 204===e.status?(window.alert("not a document!"),{document:null}):e.json();window.alert("error fetching document!")})).then((function(e){var t=e.document;t&&(s(t),i())})))}),[n]);var a=Object(c.useRef)(null),l=Object(c.useState)(!1),u=Object(f.a)(l,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){!function(){var e=navigator.userAgent||navigator.vendor||window.opera;/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&b(!0)}()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"scan-head fd",children:[Object(d.jsx)("h1",{children:"Hello! Scanning!"}),j?Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(){a.current.openImageDialog()},children:"Upload Image!"})}):""]}),Object(d.jsx)(g.a,{ref:a,delay:100,onError:function(e){e.toString().includes("The request is not allowed by the user agent or the platform in the current context.")&&b(!0)},onScan:function(e){e&&"doc/"===e.slice(0,4)&&"/doc/"===e.slice(10,15)&&(window.confirm("Qr accepted!"),setTimeout((function(){r({isLoaded:!0,data:e})}),200))},legacyMode:j})]})},C=function(e){var t=e.logIn,n=t?"homepage-header":"landingpage-header",r=Object(c.useContext)(le),o=r.logInHandle,i=r.menuHandler,s=r.searchHandler,a=r.openMenu,l=function(e){"panel-btn-container"!==e.target.className&&"panel-btn"!==e.target.className&&"nav-btn"!==e.target.className&&"active"===b&&h("inactive")},u=Object(c.useState)("inactive"),j=Object(f.a)(u,2),b=j[0],h=j[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),"inactive"===b&&F&&H(""),a&&i(),h("active"===b?"inactive":"active")};Object(c.useEffect)((function(){var e=document.querySelector("body");return t&&("active"===b?e.addEventListener("click",l):e.removeEventListener("click",l)),function(){"active"===b&&e.removeEventListener("click",l)}}),[b]);var g=Object(c.useContext)(ae),C=g.id,y=g.username,E=g.role,S=function(){o()},N=p(C).documentList,k=Object(c.useContext)(de).documentFind,U=Object(c.useState)(""),L=Object(f.a)(U,2),F=L[0],H=L[1],T=Object(c.useState)(null),D=Object(f.a)(T,2),P=D[0],A=D[1];Object(c.useEffect)((function(){(null===N||void 0===N?void 0:N.documents)&&A(s(N.documents,F,"document"))}),[F]);var _=Object(c.useContext)(le).popUpHandler,q=function(e){e.preventDefault(),_(!0,"scan-header",Object(d.jsx)(w,{}))},W=Object(c.useContext)(ue).isAttached,M=Object(c.useMemo)((function(){var e=[];return t?(e.push({label:"Scan",handler:q}),W?e.push({label:y,handler:x}):e.push({label:"Log Out",handler:S})):e=[{label:"Sign in",handler:function(){return console.log("Sign in!")}},{label:"About",handler:function(){return console.log("About!")}},{label:"Contacts",handler:function(){return console.log("Contacts!")}}],e}),[t,y,W]),J=function(e){e.target.scrollTo(0,e.target.scTop)},I=function(){var e=document.querySelector(".burger"),t=document.querySelector(".nav-list");if(e.classList.toggle("-open"),t.classList.toggle("-open"),e.classList.contains("-not-signed")){var n=document.querySelector("body");e.classList.contains("-open")?(n.scTop=n.scrollTop,n.eventAt=!0,n.addEventListener("scroll",J)):(n.scTop=0,n.eventAt=!1,n.removeEventListener("scroll",J))}};return Object(c.useEffect)((function(){if(t){var e=document.querySelector("body");(null===e||void 0===e?void 0:e.eventAt)&&e.removeEventListener("scroll",J)}}),[t]),Object(c.useEffect)((function(){document.querySelector(".burger").classList.contains("-open")&&I()}),[W]),Object(d.jsx)("header",{className:"".concat(n),children:Object(d.jsxs)("div",{className:"fd universal-container",children:[Object(d.jsx)("div",{className:"icon",children:"Doc"}),t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"searchbar-container",children:[Object(d.jsx)("p",{children:Object(d.jsx)("input",{className:"searchbar","aria-label":"Searchbar",type:"text",value:F,onChange:function(e){return H(e.target.value)},onKeyDown:function(e){F&&("Enter"===e.code&&(null===N||void 0===N?void 0:N.documents.length)>0&&(k(null===N||void 0===N?void 0:N.documents[0].id,N),H("")))}})}),P?Object(d.jsx)(O,{handler:function(e){k(e,N),H("")},documentList:P,fromWhere:"header-search"}):""]}),Object(d.jsx)(v,{classCon:"signed",arr:M}),W&&Object(d.jsx)(m,{panelStatus:b,menuClicked:function(e){var t=e.target.getAttribute("data");h("inactive"),i(t)},logOutHandler:S,role:E})]}):Object(d.jsx)(v,{classCon:"not-signed",arr:M}),Object(d.jsxs)("div",{className:"burger ".concat(t?"-signed":"-not-signed"),onClick:I,children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]})]})})},y=(n(54),n(55),function(e){var t=e.inSlide;return Object(d.jsx)("section",{className:"about-info",children:Object(d.jsx)("div",{className:"universal-container",children:Object(d.jsxs)("div",{className:"about-container",style:{left:"calc(-100% + ".concat(t,"%)")},children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"About"})}),Object(d.jsx)("div",{})]})})})}),E=(n(56),function(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"universal-container",children:[Object(d.jsx)("p",{children:"Source code https://github.com/KnackHops/documents-scanner-editor"}),Object(d.jsx)("p",{children:"Developed by KnackHops"})]})})}),S=(n(57),function(e){var t=e.opaMin;return Object(d.jsx)("section",{className:"general-land",style:{opacity:1-t},children:Object(d.jsx)("h1",{children:"General Here"})})}),N=(n(58),n(12)),k=function(e){var t=!0,n="Mobile Number has invalid characters!";return e.length>=11&&e.length<=13?isNaN(e)||e.includes("E")||e.includes("e")?t=!1:"09"===e.slice(0,2)||"639"===e.slice(0,3)?("09"===e.slice(0,2)&&11!==e.length&&(t=!1),"639"===e.slice(0,3)&&13!==e.length&&(t=!1),t&&(n="Mobile number must be valid")):(t=!1,n="Mobile number must start with 09 and 639"):(t=!1,n="Mobile number must be 11 to 13 long"),[t,n]},U=function(e){return/^\S+@\S+\.\S+$/.test(e)},L=function(e,t){var n=e.username,c=e.password,r=e.mobile,o=e.email,i=!0;if(n)if(c){if("register"===t&&(r||(window.alert("Mobile Number is empty!"),i=!1),o||(window.alert("Email is empty!"),i=!1),U(o)||(window.alert("Please provide a proper email"),i=!1)),i)if(n.length<5)window.alert("Username needs to be 5 characters or longer"),i=!1;else{var s=function(e,t){var n=!1,c="",r=0,o=0;return e.length<5?c="Password needs to be 5 characters or more":"register"===t?/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)?(Object(N.a)(e).forEach((function(e){e.toLowerCase()!==e.toUpperCase()&&(e.toUpperCase()===e&&(r+=1),e.toLowerCase()===e&&(o+=1))})),0===r?c="Password needs to have at least one uppercase character":0===o?c="Password needs to have at least one lowercase character":n=!0):c="Password needs to have at least one special character":n=!0,[n,c]}(c,t),a=Object(f.a)(s,2),l=a[0],u=a[1],d=k(r),j=Object(f.a)(d,2),b=j[0],h=j[1];l?b||"register"!==t||(window.alert(h),i=b):(window.alert(u),i=l)}}else window.alert("Password is empty!"),i=!1;else window.alert("Username is empty!"),i=!1;return i},F=(n(59),{fullname:"",username:"",password:"",email:"",mobile:""}),H=function(e){var t=e.panSlide,n=Object(c.useState)("login"),r=Object(f.a)(n,2),o=r[0],i=r[1],s=Object(c.useState)(F),a=Object(f.a)(s,2),l=a[0],u=a[1],j=Object(c.useContext)(le).logInHandle,m=function(e){e.preventDefault();var t=L(l,o);if(console.log(t),t){var n=l;u(F),"login"===o?O({username:n.username.toLowerCase(),password:n.password}):p({fullname:n.fullname.toLowerCase(),username:n.username.toLowerCase(),password:n.password,mobile:n.mobile,email:n.email.toLowerCase()})}},O=function(e){fetch("http://127.0.0.1:5000/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw Error("error logging in")})).then((function(e){"id"in e?j(e):window.alert("Your account is not yet activated!")})).catch((function(e){return window.alert(e)}))},p=function(e){fetch("http://127.0.0.1:5000/register",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw Error("error registering");window.confirm("User registered!")})).catch((function(e){return window.alert(e)}))};Object(c.useEffect)((function(){u(F)}),[o]);var v=function(e,t){u(Object(h.a)(Object(h.a)({},l),{},Object(b.a)({},t,e.target.value)))};return Object(d.jsx)("section",{className:"land-page-section fd",children:Object(d.jsxs)("form",{className:"land-page-form ".concat(o,"-container fd"),style:{transform:"translateX(".concat(t,"rem)")},onSubmit:m,children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"username",children:"username"}),Object(d.jsx)("input",{type:"text",id:"username",name:"username",value:l.username,onChange:function(e){return v(e,"username")}})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"password",children:"password"}),Object(d.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:function(e){return v(e,"password")}})]}),"register"===o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"fullname",children:"fullname"}),Object(d.jsx)("input",{type:"text",id:"username",name:"fullname",value:l.fullname,onChange:function(e){return v(e,"fullname")}})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"email",children:"email"}),Object(d.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:function(e){return v(e,"email")}})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"mobile",children:"mobile"}),Object(d.jsx)("input",{type:"tel",id:"mobile",name:"mobile",value:l.mobile,onChange:function(e){return v(e,"mobile")}})]})]}):"",Object(d.jsxs)("p",{children:[Object(d.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),i("register"===o?"login":"register")},children:"register"===o?"Log In":"Register"}),Object(d.jsx)("button",{type:"submit",onClick:m,children:"Submit"})]})]})})},T=function(){var e=Object(c.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(0),i=Object(f.a)(o,2),s=i[0],a=i[1],l=Object(c.useState)(0),u=Object(f.a)(l,2),j=u[0],b=u[1],h=function(e){var t;if(!(null===(t=document.querySelector(".burger.-not-signed"))||void 0===t?void 0:t.classList.contains("-open"))){var n=.4*window.innerHeight,c=e.target.scrollTop;if(n>c&&(a(0),r((c/n).toFixed(2))),c>=n&&c<window.innerHeight){var o=((c-n)/window.innerHeight).toFixed(2)-.01;o=-1===Math.sign(o)?0:100*o,a(o)}console.log(c,.75*window.innerHeight-25);var i=.75*window.innerHeight-25;if(c<=i)b(c/i*100);else b(100)}};return Object(c.useEffect)((function(){return document.querySelector("body").addEventListener("scroll",h),function(){return document.querySelector("body").removeEventListener("scroll",h)}}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S,{opaMin:n}),Object(d.jsx)(H,{panSlide:s}),Object(d.jsx)(y,{inSlide:j}),Object(d.jsx)(E,{})]})},D=(n(60),n(5)),P=n.n(D),A=n(7),_=(n(62),n(34)),q=n.n(_),W=n(35),M=function(e){var t=e.users,n=e.handler,c=e.fromWhere;return Object(d.jsx)("div",{className:"".concat(c,"-list-container user-list-container"),children:Object(d.jsx)("ul",{className:"".concat(c,"-list user-list fd"),children:t&&t.length>0?t.map((function(e){return Object(d.jsx)("li",{className:"fd",onClick:n,children:Object(d.jsxs)("p",{"data-id":e.id,style:"admin"===c?!1===e.activated?{color:"red"}:{color:"black"}:{},children:[e.username,(null===e||void 0===e?void 0:e.fullname)?"/".concat(e.fullname):""]})},e.id)})):Object(d.jsx)("li",{children:Object(d.jsx)("p",{children:"No other user right now!"})})})})},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useState)(null),r=Object(f.a)(n,2),o=r[0],i=r[1],s=Object(c.useState)(!1),a=Object(f.a)(s,2),l=a[0],u=a[1],d=Object(c.useCallback)((function(){fetch("http://127.0.0.1:5000/".concat(t?"subordinate-fetch":"admin-fetch","/?id=").concat(e),{method:"GET",mode:"cors"}).then((function(e){if(e.ok)return e.json();i(null),u(!1)})).then((function(e){var n=e.fetched_users;i(t?j(n):n),u(!0)}))}),[e,t]),j=function(e){if(!e)return null;var t=[],n=[];return e.forEach((function(e){e.isSubordinate&&t.push(e),e.isSubordinate||n.push(e)})),t.length>0||n.length>0?{sub_users:t,nonsub_users:n}:{sub_users:null,nonsub_users:null}};Object(c.useEffect)((function(){d()}),[e,d]);var b=function(){i(null),u(!1)};return{users:o,isLoaded:l,fetchUsers:d,clearUsers:b}},I=function(e){var t=e.document,n=Object(c.useContext)(ae).id,r=Object(c.useContext)(de).pinHandler,o=J(n,!0),i=o.fetchUsers,s=o.users,a=Object(c.useState)(s),l=Object(f.a)(a,2),u=l[0],j=l[1];Object(c.useEffect)((function(){i(!0)}),[n]);Object(c.useEffect)((function(){if(s&&(null===s||void 0===s?void 0:s.sub_users)){var e=[];s.sub_users.forEach((function(t){e.push({id:t.id})})),s.nonsub_users.forEach((function(t){e.push({id:t.id})})),fetch("http://127.0.0.1:5000/send-user-fetch",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({docid:t.id,id_lists:e})}).then((function(e){if(e.ok)return e.json();window.alert("Error fetching users")})).then((function(e){!function(e){var t={sub_users:[],nonsub_users:[]};s.sub_users.forEach((function(n){e.forEach((function(e){n.id===e.id&&t.sub_users.push(n)}))})),s.nonsub_users.forEach((function(n){e.forEach((function(e){n.id===e.id&&t.nonsub_users.push(n)}))})),0==t.sub_users.length&&(t.sub_users=null),0==t.nonsub_users.length&&(t.nonsub_users=null),j(t)}(e.id_filtered)}))}}),[s]);var b=function(){var e=Object(A.a)(P.a.mark((function e(n){var c,o,s,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c=n.target.innerHTML,!window.confirm('Are you sure you want to send Document: "'.concat(t.title,'" to User: "').concat(c,'"?'))){e.next=10;break}return o=Number(n.target.getAttribute("data-id")),s=t.id,a=t.title,e.next=9,r(c,o,s,a,!0);case 9:i(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"User subordinates"}),Object(d.jsx)(M,{users:null===u||void 0===u?void 0:u.sub_users,fromWhere:"document-pop",handler:b}),Object(d.jsx)("h1",{children:"Non subordinates"}),Object(d.jsx)(M,{users:null===u||void 0===u?void 0:u.nonsub_users,fromWhere:"document-pop",handler:b})]})},R=(n(75),function(e){var t=e.qr_image,n=e.text,c=void 0===n?"Saved! Here is the qr code!":n;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:c})}),Object(d.jsx)("img",{src:t})]})}),B={toolbar:["undo","redo","|","bold","italic","link","strikethrough","underline","|","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","numberedList","bulletedList","|","alignment:left","alignment:right","alignment:center","alignment:justify","|","indent","outdent","|","insertTable","tableColumn","tableRow","mergeTableCells"],fontSize:{options:[9,10,11,12,13,14,15,16,18,20,22,24,26,28,30,32,34,36]},indentBlock:{offset:.1,unit:"in"},placeholder:"Fresh start is what we need...start typing!"},G=function(e){var t=e.documentLoadHandler,n=e.document,r=e.documentHandler,o=e.documentFetch,i=Object(c.useContext)(de),s=i.unpinHandler,a=i.pinHandler,l=Object(c.useContext)(ae).id,u=Object(c.useState)(null),j=Object(f.a)(u,2),b=j[0],h=j[1];Object(c.useEffect)((function(){b&&(console.log(b.ui.getEditableElement().parentElement),b.ui.getEditableElement().parentElement.insertBefore(b.ui.view.toolbar.element,b.ui.getEditableElement()))}),[b]);var m=Object(c.useCallback)((function(){var e=b.getData();return n.id||0===n.id?[n.id,e]:[null,e]}),[n,b]),O=Object(c.useContext)(le).popUpHandler,p=Object(c.useContext)(ae).username,v=function(){var e=Object(A.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!window.confirm("Are you sure you want to pin this document?")){e.next=6;break}return e.next=5,a(p,l,n.id,n.title);case 5:o();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(A.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!window.confirm("Are you sure you want to unpin this document for you?")){e.next=6;break}return e.next=5,s(l,n.id);case 5:o();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("article",{className:"document-container fd",children:[Object(d.jsxs)("p",{className:"doc-btn-container",children:[Object(d.jsx)("button",{onClick:function(){return r.apply(void 0,Object(N.a)(m()))},children:n.id||0===n.id?"Edit":"Save"}),n.id||0===n.id?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),O(!0,"document-page",Object(d.jsx)(I,{document:n}))},children:"Send"}),Object(d.jsx)("button",{onClick:function(){fetch("http://127.0.0.1:5000/document/fetch-qr/?docid=".concat(n.id),{method:"GET",mode:"cors"}).then((function(e){if(e.ok)return 204===e.status?(window.alert("document doesn't exist!"),{qr_code:null}):e.json();window.alert("Error fetching qr code!")})).then((function(e){var t=e.qr_code;t&&O(!0,"show-qr",Object(d.jsx)(R,{qr_image:t,text:"Here is the QR Code!"}))}))},children:"Show QR"}),n.pinned?Object(d.jsx)("button",{onClick:x,children:"Unpin"}):Object(d.jsx)("button",{onClick:v,children:"Pin"})]})}):"",Object(d.jsx)("button",{onClick:function(){return t(null)},children:"Exit"})]}),Object(d.jsx)(W.CKEditor,{editor:q.a,data:n.body,onReady:function(e){h(e)},config:B})]})},K=(n(76),function(e){var t=e.classCon,n=e.handler,r=e.children,o=function(e){e.target.classList.contains("universal-bg")&&n()};return Object(c.useEffect)((function(){var e=document.querySelector(".universal-bg");return e&&e.addEventListener("click",o),function(){e&&e.removeEventListener("click",o)}}),[n]),Object(d.jsx)("div",{className:"universal-bg ".concat(t,"-bg fd"),children:r})}),z=(n(77),function(e){var t=e.classCon,n=e.children,r=Object(c.useContext)(ue),o=r.setSideUser,i=r.isAttached,s=Object(c.useCallback)((function(){return Object(d.jsxs)("aside",{className:"side-menu ".concat(t),children:[n,Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(){return o(null)},children:"Close Panel"})})]})}),[n]);return Object(d.jsx)(d.Fragment,{children:i?Object(d.jsx)(s,{}):Object(d.jsx)(K,{classCon:"side-menu-not-att",handler:function(){return""},children:Object(d.jsx)(s,{})})})}),Q=(n(78),function(){var e=Object(c.useContext)(ue).sideUser,t=Object(c.useContext)(de).pinHandler,n=p(e.id,!1),r=n.documentList,o=n.documentFetch,i=n.setDocumentList;Object(c.useEffect)((function(){return e&&o(!0),function(){"admin-side"===(null===e||void 0===e?void 0:e.sideClass)?o(!0,!0):i({documents:null})}}),[e]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(O,{documentList:r,fromWhere:"profile-side",handler:function(n){r.documents.forEach((function(c){c.id==n&&(window.confirm("Are you sure you want to send Document: ".concat(c.title," to User: ").concat(e.username,"?"))&&t(e.username,e.id,c.id,c.title).then((function(){o(!0)})))}))}})})}),Y=function(e){var t=e.fetchUsers,n=Object(c.useContext)(ae).id,r=Object(c.useContext)(ue).sideUser,o=function(e){window.confirm("User ".concat(r.username," ").concat(e[1]," commence! You can close the admin window!")),fetch("http://127.0.0.1:5000/admin-activate",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,userid:r.id})}).then((function(n){n.ok?t():window.alert("Error ".concat(e[0]," user!"))}))},i=function(e){window.confirm("".concat(e," User ").concat(r.username,"!")),fetch("http://127.0.0.1:5000/admin-delete-user/?id=".concat(n,"&userid=").concat(r.id),{method:"DELETE",mode:"cors"}).then((function(e){e.ok?t():window.alert("Error deleting ".concat(r.username))}))},s=function(e){window.confirm("User ".concat(r.username," role will be changed to ").concat(e,"!")),fetch("http://127.0.0.1:5000/admin-role-change",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,userid:r.id,role:e})}).then((function(e){e.ok?t():window.alert("Error changing role!")}))},a=function(e,t){var c=window.prompt("Please Enter your password");c?fetch("http://127.0.0.1:5000/admin-check",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,password:c})}).then((function(n){n.ok?e(t):window.alert("Wrong password")})):window.alert("Password Empty")},l=function(e){return window.prompt("Please Enter username of the user you are ".concat(e))===r.username||window.alert("Wrong username entered!")},u=p(r.id,!1),j=u.documentFetch,b=u.documentList,h=Object(c.useContext)(de).unpinHandler;Object(c.useEffect)((function(){j(!0,!0)}),[r]);var f=function(){var e=Object(A.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to unpin this document?")){e.next=5;break}return e.next=4,h(r.id,t);case 4:j(!0,!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(c.useContext)(le).popUpHandler;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"User: ".concat(r.username)}),Object(d.jsx)("p",{children:Object(d.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault();var t=r.activated?["deactivating","deactivation"]:["activating","activation"];l(t[0])&&a(o,t)},children:[r.activated?"Deactivate":"Activate"," this User"]})}),r.activated||0!==n?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Pinned Posts"}),Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(){m(!0,"admin-side",Object(d.jsx)(Q,{}))},children:"Add pin"})}),(null===b||void 0===b?void 0:b.documents)?Object(d.jsx)(O,{documentList:b,handler:f,fromWhere:"admin-side-pinned"}):"None"]})}):Object(d.jsx)("p",{children:Object(d.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault();var t="Deleting";l(t)&&a(i,t)},children:["Delete ",r.username]})}),r.role?Object(d.jsx)("p",{children:Object(d.jsxs)("button",{type:"button",onClick:function(e){if(e.preventDefault(),window.confirm("Change role to ".concat("admin"===r.role?"normal":"admin","?"))){var t="admin"===r.role?"normal":"admin";a(s,t)}},children:["Change User role to ","admin"===r.role?"Normal":"Admin"]})}):""]})},$=(n(79),function(){var e=Object(c.useContext)(ue),t=e.sideUser,n=e.setSideUser,r=Object(c.useContext)(ae).id,o=J(r),i=o.users,s=o.isLoaded,a=o.fetchUsers,l=o.clearUsers,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!0;if(e?t&&t.userid===e&&c&&(o=!1):o=!1,o){var s=!1;i&&i.forEach((function(t){t.id===e&&(s=!0,n({id:e,username:t.username,activated:t.activated,role:0===r?t.role:null,sideClass:"admin-side"}))})),s||(o=s)}o||n(null)};Object(c.useEffect)((function(){(i&&t||!i&&t)&&u(t.userid)}),[i]),Object(c.useEffect)((function(){return function(){n(null),l()}}),[]);return Object(d.jsxs)(d.Fragment,{children:[s&&Array.isArray(i)?Object(d.jsx)(M,{users:i,handler:function(e){e.preventDefault(),u(Number(e.target.getAttribute("data-id")),!0)},fromWhere:"admin"}):Object(d.jsx)("p",{children:"Loading Users!"}),t&&"admin-side"==(null===t||void 0===t?void 0:t.sideClass)?Object(d.jsx)(z,{classCon:"admin-side-container",children:Object(d.jsx)(Y,{fetchUsers:a,sideMenuHandler:u})}):""]})}),X=(n(80),n(3)),V=(n(81),function(e){var t=e.fromWhere,n=t.charAt(0).toUpperCase()+t.slice(1),r=Object(c.useContext)(ae),o=r.id,i=r.mobile,s=r.email,a=r.updateUser,l=Object(c.useContext)(le).popUpHandler,u=Object(c.useState)(""),j=Object(f.a)(u,2),b=j[0],h=j[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"profile header"})}),Object(d.jsxs)("form",{onSubmit:function(e){var n,c;if(e.preventDefault(),"mobile"===t){if(i===b)return void window.alert("No change detected!");var r=k(b),u=Object(f.a)(r,2);n=u[0],c=u[1]}else{if(s===b)return void window.alert("No change detected!");n=U(b),c="Email not valid!"}n?fetch("http://127.0.0.1:5000/update-user",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:o,val:b.toLowerCase(),which:t})}).then((function(e){e.ok?(a(t,b),window.confirm("User updated!"),l()):window.alert("Updating User Error!")})):window.alert(c)},className:"fd",children:[Object(d.jsxs)("p",{className:"fd",children:[Object(d.jsx)("label",{htmlFor:t,children:n}),Object(d.jsx)("input",{id:{fromWhere:t},type:"mobile"===t?"tel":"email",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(d.jsx)("p",{children:Object(d.jsx)("button",{type:"submit",children:"Submit"})})]})]})}),Z=function(){var e=Object(X.useContext)(ae),t=e.username,n=e.mobile,c=e.role,r=e.email,o=Object(X.useContext)(le).popUpHandler;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"User: ".concat(t)}),Object(d.jsx)("p",{children:"Role: ".concat(c)}),Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),o(!0,"profile-change",Object(d.jsx)(V,{fromWhere:"email"}))},id:"email",children:r})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"mobile",children:"Mobile: "}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),o(!0,"profile-change",Object(d.jsx)(V,{fromWhere:"mobile"}))},id:"mobile",children:n||"None"})]})]})},ee=(n(82),function(e){var t=e.fetchUsers,n=Object(c.useContext)(ue),r=n.sideUser,o=n.setSideUser,i=Object(c.useContext)(ae).id,s=Object(c.useContext)(le).popUpHandler;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"side-head-container",children:[Object(d.jsx)("p",{children:r.username}),Object(d.jsx)("p",{children:Object(d.jsx)("button",{className:"addBtn","data-sub":"profile-subordinate"===r.sideClass?"subordinate":"stranger",onClick:function(e){"subordinate"===e.target.getAttribute("data-sub")?fetch("http://127.0.0.1:5000/remove-subordinate/?id=".concat(i,"&userid=").concat(r.id),{method:"DELETE",mode:"cors"}).then((function(e){e.ok?(t(!0),o(null)):console.log("error removing subordinate")})):fetch("http://127.0.0.1:5000/add-subordinate",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,userid:r.id})}).then((function(e){e.ok?(t(!0),o(null)):console.log("error adding subordinate")}))},children:"profile-subordinate"===r.sideClass?"Remove as Subordinate":"Add as Subordinate"})})]}),Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(){s(!0,"profile-side",Object(d.jsx)(Q,{}))},children:"Send a document"})}),"profile-subordinate"===r.sideClass?Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"mobile: ".concat(r.mobile)}),Object(d.jsx)("p",{children:"email: ".concat(r.email)})]}):""]})}),te=function(e){var t=e.users,n=e.isLoaded,c=Object(X.useContext)(ue),r=c.sideUser,o=c.setSideUser,i=Object(X.useContext)(le).searchHandler,s=function(e){var n=null,c=null,i=null;"sideClass"in e?(n=e.sideClass,c=e.id,i=e.username):(n=e.target.parentNode.parentNode.classList[0].replace("-list",""),c=Number(e.target.getAttribute("data-id")),i=e.target.innerHTML);var s=!0;if(r&&(r.id!==c||r.sideClass!==n||(null===e||void 0===e?void 0:e.reLoad)||(s=!1)),s){var a=null,l=null;t.sub_users.forEach((function(e){e.id===c&&(a=e.mobile,l=e.email)})),o({id:c,username:i,mobile:a,email:l,sideClass:n})}else o(null)};Object(X.useEffect)((function(){return function(){o(null)}}),[]);var a=Object(X.useState)(""),l=Object(f.a)(a,2),u=l[0],j=l[1],b=Object(X.useState)(null),h=Object(f.a)(b,2),m=h[0],O=h[1];return Object(X.useEffect)((function(){j(""),O(null)}),[r]),Object(X.useEffect)((function(){O(i(null===t||void 0===t?void 0:t.nonsub_users,u,"user"))}),[u]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"subordinate-search-container",children:Object(d.jsxs)("p",{children:[Object(d.jsx)("label",{htmlFor:"search-user",children:"Search for a User: "}),Object(d.jsx)("input",{type:"text",id:"search-user",value:u,onChange:function(e){return j(e.target.value.toLowerCase())},onKeyDown:function(e){"Enter"===e.code&&m&&s({id:m[0].id,username:m[0].username,sideClass:"profile-search"})}}),m?Object(d.jsx)(M,{users:m,handler:s,fromWhere:"profile-search"}):""]})}),Object(d.jsx)("p",{children:"Subordinates:"}),n?Object(d.jsx)(M,{users:null===t||void 0===t?void 0:t.sub_users,handler:s,fromWhere:"profile-subordinate"}):Object(d.jsx)("p",{children:"Loading users"})]})},ne=function(){var e=Object(X.useContext)(ue).sideUser,t=Object(X.useState)("user-settings"),n=Object(f.a)(t,2),c=n[0],r=n[1],o=Object(X.useContext)(ae).id,i=J(o,!0),s=i.users,a=i.isLoaded,l=i.fetchUsers;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"".concat(c,"-container"),children:[Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("what why"),r("user-settings"===c?"subordinate":"user-settings")},children:"user-settings"===c?"Subordinate":"User Settings"})}),"user-settings"===c?Object(d.jsx)(Z,{}):Object(d.jsx)(te,{users:s,isLoaded:a})]}),!e||"profile-search"!==(null===e||void 0===e?void 0:e.sideClass)&&"profile-subordinate"!==(null===e||void 0===e?void 0:e.sideClass)?"":Object(d.jsx)(z,{classCon:"profile-side-container ".concat(e.sideClass,"-container"),children:Object(d.jsx)(ee,{fetchUsers:l})})]})},ce=function(e){var t=e.openMenu,n=Object(c.useContext)(le).menuHandler,r=Object(c.useContext)(ue).isAttached,o=Object(c.useContext)(ae),i=o.id,s=o.role,a=Object(c.useCallback)((function(){return Object(d.jsx)(K,{classCon:"user-menu",handler:n,children:Object(d.jsxs)("section",{className:"user-menu ".concat(t,"-container fd"),children:[Object(d.jsx)("div",{className:"".concat(t,"-title"),children:Object(d.jsx)("h1",{children:"admin"===t?"Admin":"Profile"})}),"admin"===t?Object(d.jsx)($,{}):Object(d.jsx)(ne,{})]})})}),[i,t]),l=Object(c.useCallback)((function(){return Object(d.jsxs)("section",{className:"homeuser-menu-container",children:["admin"===s&&Object(d.jsxs)("div",{className:"fd",children:[Object(d.jsx)("h1",{children:"Admin"}),Object(d.jsx)($,{})]}),Object(d.jsxs)("div",{className:"fd",children:[Object(d.jsx)("h1",{children:"Profile"}),Object(d.jsx)(ne,{})]})]})}),[i]);return Object(d.jsx)(d.Fragment,{children:r?Object(d.jsx)(a,{}):Object(d.jsx)(l,{})})},re=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ce,{})})},oe=function(){var e=Object(c.useContext)(ue).isAttached,t=Object(c.useContext)(ae).id,n=p(t),r=n.documentList,o=n.documentFetch,i=Object(c.useContext)(de),s=i.document,a=i.setDocument,l=i.documentFind,u=function(e){e||0===e?!0===e?a({id:null,body:""}):l(e,r):a(null)};Object(c.useEffect)((function(){s&&(null===r||void 0===r?void 0:r.documents)&&l(s.id,r)}),[r]),Object(c.useEffect)((function(){(null===s||void 0===s?void 0:s.id)&&!(null===s||void 0===s?void 0:s.body)&&l(s.id,r)}),[s]);var j=function(e){var t=window.prompt(e);return t&&t.replace(/\s/g,"").length?t:(window.alert("Title empty!"),null)},b=Object(c.useContext)(le).popUpHandler,h=function(e){fetch("http://127.0.0.1:5000/document/add",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw Error("Error adding data")})).then((function(e){var t=e.id,n=e.qr_code;a({id:t,body:""}),o(),b(!0,"qr-saved",Object(d.jsx)(R,{qr_image:n}))})).catch((function(e){return console.log(e)}))},f=function(e){fetch("http://127.0.0.1:5000/document/edit",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw Error("Error updating data")})).then((function(){o()})).catch((function(e){return console.log(e)}))};return Object(d.jsxs)("div",{className:"fd universal-container",children:[s?Object(d.jsx)(G,{documentLoadHandler:u,document:s,documentHandler:function(e,t){if(t){var n={document:t};e||0===e?n.document===s.body?window.alert("No change detected!"):(n.title=j("Enter the title of the document you are editing!"),n.title&&(n.id=e,f(n))):(n.title=j("Enter title here!"),n.title&&h(n))}else console.log("empty!")},setDocument:a,documentFetch:o}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("section",{className:"central-container",children:[Object(d.jsx)("p",{className:"btn-container",children:Object(d.jsx)("button",{onClick:function(){return u(!0)},children:"Add"})}),r?Object(d.jsx)(O,{handler:u,documentList:r,fromWhere:"document-central"}):"Please wait!"]})}),!e&&!s&&Object(d.jsx)(re,{})]})},ie=function(e){var t=e.children,n=e.fromWhere,r=Object(c.useContext)(le).popUpHandler;return Object(d.jsx)(K,{classCon:"pop-up",handler:r,children:Object(d.jsx)("aside",{className:"pop-up-container pop-".concat(n),children:t})})},se=function(e){var t=e.logIn,n=Object(c.useContext)(le),r=n.popUp,o=n.openMenu,i=Object(c.useContext)(ue).setAttached,s=function(){window.innerWidth>=1050?i(!0):window.innerWidth<=1049&&i(!1)};Object(c.useLayoutEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]);var a=t?"homepage-container":"landingpage-container";return Object(d.jsxs)("main",{className:"".concat(a),children:[r.openUp?Object(d.jsx)(ie,{fromWhere:r.fromWhere,children:r.Compo}):"",o&&Object(d.jsx)(ce,{openMenu:o}),t?Object(d.jsx)(oe,{}):Object(d.jsx)(T,{})]})},ae=Object(c.createContext)(null),le=Object(c.createContext)(null),ue=Object(c.createContext)(null),de=Object(c.createContext)(null);function je(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(null),i=Object(f.a)(o,2),s=i[0],a=i[1],l=Object(c.useState)(null),u=Object(f.a)(l,2),j=u[0],m=u[1],O=Object(c.useState)(null),p=Object(f.a)(O,2),v=p[0],x=p[1],g=Object(c.useState)({openUp:!1}),w=Object(f.a)(g,2),y=w[0],E=w[1],S=Object(c.useState)(!0),N=Object(f.a)(S,2),k=N[0],U=N[1];Object(c.useEffect)((function(){j&&!k&&m(!1)}),[k]);var L=Object(c.useState)(null),F=Object(f.a)(L,2),H=F[0],T=F[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(le.Provider,{value:{logInHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(e),r(!!e)},menuHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;m(e)},searchHandler:function(e,t,n){var c,r;if(!e)return null;r=isNaN(t)?t.toLowerCase():t;var o="document"===n?{documents:[]}:[];return e.forEach((function(e){if("user"===n)((null===e||void 0===e?void 0:e.username.includes(r))||(null===e||void 0===e?void 0:e.fullname.includes(r))||(null===e||void 0===e?void 0:e.id)===Number(r))&&o.push({id:e.id,fullname:e.fullname,username:e.username});else if("document"===n){var t;((null===e||void 0===e?void 0:e.id)===Number(r)||(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.includes(r)))&&o.documents.push({id:e.id,title:e.title})}})),t&&(o.length>0||(null===(c=o.documents)||void 0===c?void 0:c.length)>0)?o:null},popUpHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;E(e?t?{openUp:e,fromWhere:t,Compo:n}:Object(h.a)(Object(h.a)({},y),{},{openUp:e}):{openUp:e})},popUp:y,openMenu:j},children:Object(d.jsx)(ae.Provider,{value:{id:s?s.id:null,username:s?s.username:null,role:s?s.role:null,mobile:s?s.mobile:null,email:s?s.email:null,updateUser:function(e,t){a(Object(h.a)(Object(h.a)({},s),{},Object(b.a)({},e,t)))}},children:Object(d.jsx)(de.Provider,{value:{document:H,documentFind:function(e,t){t.documents.forEach((function(t){t.id===e&&T({id:e,title:t.title,body:t.document,pinned:t.pinned})}))},setDocument:T,pinHandler:function(e,t,n,c){return new Promise((function(r,o){fetch("http://127.0.0.1:5000/document/pin-doc",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:t,docid:n,doctitle:c})}).then((function(n){n.ok?(t===s.id?window.confirm("Document: ".concat(c," is pinned for you! User ").concat(e)):window.confirm("Document: ".concat(c," is sent to User ").concat(e)),r()):(console.log("error pinning"),o())}))}))},unpinHandler:function(e,t){return new Promise((function(n,c){fetch("http://127.0.0.1:5000/document/unpin-doc/?userid=".concat(e,"&docid=").concat(t),{method:"DELETE",mode:"cors"}).then((function(e){e.ok?(window.confirm("Unpinning document done!"),n()):(window.alert("Unpinning document error!"),c())}))}))}},children:Object(d.jsxs)(ue.Provider,{value:{setSideUser:x,sideUser:v,isAttached:k,setAttached:U},children:[Object(d.jsx)(C,{logIn:n}),Object(d.jsx)(se,{logIn:n})]})})})})})}var be=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(j,{children:Object(d.jsx)(je,{})})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(be,{})}),document.getElementById("root")),he()}},[[83,1,2]]]);
//# sourceMappingURL=main.037a1ca2.chunk.js.map