{"version":3,"sources":["wrappers/ErrorBoundary.js","components/Headers/ProfilePanel.js","wrappers/DocumentList.js","hooks/useDocuments.js","components/Headers/NavPanelList.js","components/Headers/ScanPopUp.js","components/Headers/Headers.js","components/Home/LandingPage/AboutInfo.js","components/Home/LandingPage/FooterInfo.js","components/Home/LandingPage/GeneralLand.js","components/Home/LandingPage/UserCheck.js","components/Home/LandingPage/LandPageForm.js","components/Home/LandingPage/LandingPage.js","wrappers/UserLists.js","hooks/useUser.js","components/Home/DocumentCentral/DocumentPopUp.js","components/Home/DocumentCentral/QRSavedPopUp.js","components/Home/DocumentCentral/DocumentPage.js","wrappers/PanelBackGround.js","components/SideMenu/SideMenu.js","components/SideMenu/SidePopUp.js","components/SideMenu/Admin/AdminSide.js","components/UserMenu/Admin/AdminMenu.js","components/UserMenu/Profile/ProfilePopUp.js","components/UserMenu/Profile/ProfileChange.js","components/SideMenu/Profile/ProfileSide.js","components/UserMenu/Profile/Subordinate.js","components/UserMenu/Profile/ProfileMenu.js","components/UserMenu/UserMenu.js","components/Home/DocumentCentral/AsideHome.js","components/Home/DocumentCentral/DocumentCentral.js","wrappers/PopUpAside.js","components/Home/Home.js","wrappers/DocumentsScannerEditor.js","App.js","reportWebVitals.js","index.js"],"names":["ErrorBoundary","props","state","hasError","err","errInfo","console","log","this","className","children","Component","ProfilePanel","panelStatus","menuClicked","logOutHandler","role","onClick","data","DocumentList","handler","documentList","fromWhere","map","doc","id","title","useDocuments","load","useState","documents","setDocumentList","documentFetch","useCallback","sideDoc","pinOr","which_get","fetch","method","mode","then","resp","ok","json","Error","_documents","filter","pinned","unpinned","concat","catch","useEffect","NavPanelList","arr","classCon","item","i","label","ScanPopUp","isLoaded","qrLoaded","setQrLoaded","useContext","UserContext","popUpHandler","MenuContext","setDocument","DocumentContext","qr_text","status","window","alert","document","qrEl","useRef","isLegacy","setLegacy","userAgent","navigator","vendor","opera","test","MSStream","checkOS","current","openImageDialog","ref","delay","onError","toString","includes","onScan","slice","confirm","setTimeout","legacyMode","Headers","logIn","classForHead","logInHandle","menuHandler","searchHandler","openMenu","bodyEventListener_panel","e","target","setPanel","panelClicked","preventDefault","searchDoc","setSearchDoc","body","querySelector","addEventListener","removeEventListener","username","documentFind","docsSearched","setSearched","scanPopHandler","isAttached","SideContext","nav_arr","useMemo","_arr","push","noScroll","scrollTo","scTop","burgerMachine","burg","navL","classList","toggle","contains","bod","scrollTop","eventAt","type","value","onChange","onKeyDown","code","length","getAttribute","About","inSlide","style","left","FooterInfo","GeneralLand","opaMin","opacity","mobileCheck","mobile","mobilechk","error","isNaN","emailCheck","email","userCheck","whichOpen","password","returnVar","passchk","upper","lower","forEach","lett","toLowerCase","toUpperCase","passCheck","pass_error","mobile_error","initialState","fullname","LandPageForm","panSlide","setWhichOpen","userInp","setUserInput","formHandler","validityChk","user","loginUser","registerUser","_user","headers","JSON","stringify","inputHandler","whichFrom","transform","onSubmit","htmlFor","name","LandingPage","setOpa","setPanSlide","setInslide","scrollHandler","fortyScroll","innerHeight","toFixed","newSlide","Math","sign","inScrollComp","UserLists","users","activated","color","useUsers","sub_fetch","setUsers","setLoaded","fetchUsers","_users","fetched_users","usersGet","sub_users","nonsub_users","isSubordinate","clearUsers","DocumentPopUp","pinHandler","popUsers","setPopUsers","id_lists","docid","id_filtered","each_id","idFilterGet","sendBtnHandler","a","innerHTML","userid","Number","doctitle","QRSavedPopUp","qr_image","text","src","toolbarConfig","toolbar","fontSize","options","indentBlock","offset","unit","placeholder","DocumentPage","documentLoadHandler","documentHandler","unpinHandler","editor","setEditor","ui","getEditableElement","parentElement","insertBefore","view","element","dataHandler","getData","pinPopHandler","unpinClicked","qr_code","DecoupledEditor","onReady","config","PanelBackGround","bgClicked","bg","SideMenu","setSideUser","SideMain","SidePopUp","sideUser","sideClass","docu","AdminSide","activateUser","textPrompt","deleteUser","txt","changeUserRole","adminCheck","func","prompt","usernameCheck","docuClicked","newRole","AdminMenu","adminSideMenuHandler","fromList","flowChk","found","Array","isArray","sideMenuHandler","ProfilePopUp","labelTxt","charAt","updateUser","inputVal","setInputVal","chk","errText","val","which","ProfileChange","ProfileSide","Subordinate","subordinateUserHandler","parentNode","replace","reLoad","searchUser","setSearchUser","usersSearched","setSearches","ProfileMenu","profilePanel","UserMenu","MenuSection","HomeMenuSection","AsideHome","DocumentCentral","documentChk","documentSave","documentEdit","PopUpAside","Home","popUp","setAttached","windowWidth","innerWidth","useLayoutEffect","classForMain","openUp","Compo","createContext","DocumentsScannerEditor","setLogIn","setUser","setOpen","setPopUp","Provider","search","_search","Promise","resolve","reject","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gpBA2BeA,E,kDAxBX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAEDC,MAAQ,CACTC,UAAU,GAJC,E,qDAYnB,SAAkBC,EAAKC,GACnBC,QAAQC,IAAIH,EAAKC,K,oBAGrB,WACI,OAAIG,KAAKN,MAAMC,SACJ,oBAAIM,UAAU,qBAAd,wCAEJD,KAAKP,MAAMS,Y,uCAZtB,SAAgCN,GAC5B,MAAO,CAAED,UAAU,O,GAVCQ,a,qBCgBbC,G,MAlBM,SAAC,GAAqD,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,cAAeC,EAAU,EAAVA,KAC5D,OACI,qBAAKP,UAAS,wBAAmBI,GAAjC,SACI,oBAAIJ,UAAU,kBAAd,SACqB,WAAhBI,EAA2B,qCACxB,oBAAIJ,UAAU,sBAAd,SACI,wBAAQA,UAAU,YAAYQ,QAASH,EAAaI,KAAK,UAAzD,uBACM,UAATF,EACD,oBAAIP,UAAU,sBAAd,SACI,wBAAQA,UAAU,YAAYQ,QAASH,EAAaI,KAAK,QAAzD,qBAAqF,GACzF,oBAAIT,UAAU,sBAAd,SACI,wBAAQA,UAAU,YAAYQ,QAASF,EAAvC,0BACA,SCMTI,EAlBM,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,UAC1C,OACI,qBAAKb,UAAS,UAAKa,EAAL,4BAAd,SACI,oBAAIb,UAAS,UAAKa,EAAL,kBAAb,SACKD,EAAY,UAAgBA,EAAY,UAAcE,KAAI,SAAAC,GAAG,OAC9D,oBAEIC,GAAE,aAAQD,EAAIC,IACdR,QAAS,kBAAIG,EAAQI,EAAIC,KACzBhB,UAAWe,EAAG,OAAa,YAAc,aAJ7C,SAMSA,EAAIE,OALJF,EAAIC,OAMJ,cC6BVE,EAvCM,SAACF,GAAmB,IAAfG,IAAc,yDACpC,EAAwCC,mBAAS,CAACC,UAAW,OAA7D,mBAAOT,EAAP,KAAqBU,EAArB,KAEMC,EAAgBC,uBAAa,WAAsC,IAApCC,EAAmC,wDAAlBC,EAAkB,wDAChEC,EAAYF,EAAYC,EAAQ,SAAW,YAAgB,UAE/DE,MAAM,+DAAD,OAAgEZ,EAAhE,sBAAgFW,GAAY,CAC7FE,OAAQ,MACRC,KAAM,SACPC,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ,MAAMC,MAAM,sBAEjBJ,MAAK,YAAiB,IAAfK,EAAc,EAAdA,WACFf,EAAYe,EAAWC,QAAO,SAAAtB,GAAG,OAAIA,EAAIuB,UACzCC,EAAWH,EAAWC,QAAO,SAAAtB,GAAG,OAAKA,EAAIuB,UAG7CC,EAAWA,GAAsB,GAEjClB,GAHAA,EAAYA,GAAwB,IAGdmB,OAAOD,GAE7BjB,EAAgB,CAACD,iBAClBoB,OAAM,SAAA9C,GACLE,QAAQC,IAAIH,QAEjB,CAACqB,IAQJ,OANA0B,qBAAW,YACA1B,GAAa,IAAPA,IAAcG,GACvBI,MAEL,CAACP,EAAIO,EAAeJ,IAEhB,CAACP,eAAcW,gBAAeD,oBCxB1BqB,EAdM,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,SACxB,OACI,oBAAI7C,UAAS,sBAAiB6C,EAAjB,aAAb,SACKD,EAAI9B,KAAI,SAACgC,EAAMC,GACZ,OAAO,6BACK,wBAAQvC,QAASsC,EAAKnC,QAAtB,SACKmC,EAAKE,SAFND,S,yBCsGjBE,EArGG,WACd,MAAkC7B,mBAAS,CAAC8B,UAAU,IAAtD,mBAAQC,EAAR,KAAkBC,EAAlB,KACQpC,EAAOqC,qBAAWC,IAAlBtC,GACAuC,EAAiBF,qBAAWG,IAA5BD,aACAE,EAAgBJ,qBAAWK,IAA3BD,YAyBRf,qBAAU,WAvBM,IAAAiB,GAwBZ,OAAKR,QAAL,IAAKA,OAAL,EAAKA,EAAU1C,QAxBHkD,EAyBD,OAACR,QAAD,IAACA,OAAD,EAACA,EAAU1C,KAxBtBmB,MAAM,yDAAD,OAA0D+B,EAA1D,mBAA4E3C,GAAM,CACnFa,OAAQ,MACRC,KAAM,SACPC,MAAM,SAAAC,GACL,GAAKA,EAAKC,GACN,OAAqB,MAAhBD,EAAK4B,QACNC,OAAOC,MAAM,mBACN,CAACC,SAAU,OAEX/B,EAAKE,OAGhB2B,OAAOC,MAAM,+BAElB/B,MAAM,YAAqB,IAAjBgC,EAAgB,EAAhBA,SACJA,IACDN,EAAYM,GACZR,WAST,CAACJ,IAEJ,IAoBMa,EAAOC,iBAAO,MAMpB,EAAgC7C,oBAAS,GAAzC,mBAAQ8C,EAAR,KAAkBC,EAAlB,KAcA,OAJAzB,qBAAU,YARM,WACZ,IAAI0B,EAAYC,UAAUD,WAAaC,UAAUC,QAAUT,OAAOU,MAE9D,mBAAmBC,KAAKJ,KAAeP,OAAOY,UAC9CN,GAAU,GAKdO,KACD,IAGC,qCACI,sBAAK1E,UAAU,eAAf,UACI,kDAIIkE,EACA,4BACI,wBAAQ1D,QA3BJ,WACpBwD,EAAKW,QAAQC,mBA0BG,6BAGG,MAGf,cAAC,IAAD,CACIC,IAAKb,EACLc,MAAO,IACPC,QA5CQ,SAAApF,GACZA,EAAIqF,WAAWC,SAAS,yFACxBd,GAAU,IA2CNe,OA3DO,SAAAzE,GACVA,GACyB,SAArBA,EAAK0E,MAAM,EAAG,IAAuC,UAAtB1E,EAAK0E,MAAM,GAAI,MAC/CtB,OAAOuB,QAAQ,gBACfC,YAAW,WACPjC,EAAY,CACRF,UAAU,EACVzC,WAEL,OAmDH6E,WAAYpB,QCkIbqB,EA7NC,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACRC,EAAeD,EAAQ,kBAAoB,qBACjD,EAA8DnC,qBAAWG,IAAjEkC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,YAAaC,EAAlC,EAAkCA,cAAeC,EAAjD,EAAiDA,SAE3CC,EAA0B,SAAAC,GACF,wBAAvBA,EAAEC,OAAOhG,WAA8D,cAAvB+F,EAAEC,OAAOhG,WAAoD,YAAvB+F,EAAEC,OAAOhG,WAC7E,WAAdI,GACC6F,EAAS,aAKrB,EAAgC7E,mBAAS,YAAzC,mBAAOhB,EAAP,KAAoB6F,EAApB,KAEMC,EAAe,WAAa,IAAZH,EAAW,uDAAT,KACjBA,GACCA,EAAEI,iBAGa,aAAhB/F,GACIgG,GACCC,EAAa,IAIlBR,GACCF,IAGuBM,EAAX,WAAhB7F,EAAoC,WAAuB,WAI/DsC,qBAAU,WACN,IAAM4D,EAAOvC,SAASwC,cAAc,QAOpC,OANGf,IACoB,WAAhBpF,EACCkG,EAAKE,iBAAiB,QAASV,GAE/BQ,EAAKG,oBAAoB,QAASX,IAEnC,WACc,WAAd1F,GACCkG,EAAKG,oBAAoB,QAASX,MAG3C,CAAC1F,IAEJ,IAMA,EAA+BiD,qBAAWC,IAAlCtC,EAAR,EAAQA,GAAI0F,EAAZ,EAAYA,SAAUnG,EAAtB,EAAsBA,KAEhBD,EAAgB,WAClBoF,KAGG9E,EAAgBM,EAAaF,GAA7BJ,aACA+F,EAAgBtD,qBAAWK,IAA3BiD,aACP,EAAkCvF,mBAAS,IAA3C,mBAAOgF,EAAP,KAAkBC,EAAlB,KACA,EAAoCjF,mBAAS,MAA7C,mBAAOwF,EAAP,KAAqBC,EAArB,KAEAnE,qBAAU,YACN,OAAG9B,QAAH,IAAGA,OAAH,EAAGA,EAAcS,YACbwF,EAAYjB,EAAchF,EAAaS,UAAW+E,EAAW,eAElE,CAACA,IAEJ,IAiBO7C,EAAgBF,qBAAWG,IAA3BD,aAEDuD,EAAiB,SAAAf,GACnBA,EAAEI,iBAEF5C,GAAa,EAAM,cAAe,cAAC,EAAD,MAG9BwD,EAAe1D,qBAAW2D,IAA1BD,WAEFE,EAAUC,mBAAQ,WACpB,IAAIC,EAAO,GAoCX,OAlCK3B,GACD2B,EAAKC,KAAK,CACNpE,MAAO,OACPrC,QAASmG,IAGRC,EACDI,EAAKC,KAAK,CACNpE,MAAO0D,EACP/F,QAASuF,IAGbiB,EAAKC,KAAK,CACNpE,MAAO,UACPrC,QAASL,KAIjB6G,EAAO,CACH,CACInE,MAAO,UACPrC,QAAS,kBAAMd,QAAQC,IAAI,cAE/B,CACIkD,MAAO,QACPrC,QAAS,kBAAMd,QAAQC,IAAI,YAE/B,CACIkD,MAAO,WACPrC,QAAS,kBAAMd,QAAQC,IAAI,gBAKhCqH,IAER,CAAC3B,EAAOkB,EAAUK,IAEfM,EAAW,SAAAtB,GACbA,EAAEC,OAAOsB,SAAS,EAAGvB,EAAEC,OAAOuB,QAG5BC,EAAgB,WAClB,IAAMC,EAAO1D,SAASwC,cAAc,WAC9BmB,EAAO3D,SAASwC,cAAc,aAKpC,GAHAkB,EAAKE,UAAUC,OAAO,SACtBF,EAAKC,UAAUC,OAAO,SAEjBH,EAAKE,UAAUE,SAAS,eAAiB,CAE1C,IAAMC,EAAM/D,SAASwC,cAAc,QAE9BkB,EAAKE,UAAUE,SAAS,UACzBC,EAAIP,MAAQO,EAAIC,UAChBD,EAAIE,SAAU,EACdF,EAAItB,iBAAiB,SAAUa,KAE/BS,EAAIP,MAAQ,EACZO,EAAIE,SAAU,EACdF,EAAIrB,oBAAoB,SAAUY,MAsB9C,OAhBA3E,qBAAU,WACN,GAAK8C,EAAQ,CACT,IAAMsC,EAAM/D,SAASwC,cAAc,SAEnC,OAAKuB,QAAL,IAAKA,OAAL,EAAKA,EAAKE,UACNF,EAAIrB,oBAAoB,SAAUY,MAG3C,CAAC7B,IAEJ9C,qBAAU,WACHqB,SAASwC,cAAc,WAAWoB,UAAUE,SAAS,UACpDL,MAEL,CAACT,IAGA,wBAAQ/G,UAAS,UAAKyF,GAAtB,SACI,sBAAKzF,UAAU,yBAAf,UACI,qBAAKA,UAAU,OAAf,iBAGCwF,EAAQ,qCACL,sBAAKxF,UAAU,sBAAf,UACI,4BACI,uBAAOA,UAAU,YAAY,aAAW,YAAYiI,KAAK,OAAOC,MAAO9B,EAAW+B,SAAU,SAAApC,GAAC,OAAEM,EAAaN,EAAEC,OAAOkC,QAAQE,UApH/H,SAAArC,GACfK,IAEa,UADCL,EAAEsC,OAEI,OAAZzH,QAAY,IAAZA,OAAA,EAAAA,EAAcS,UAAUiH,QAAS,IAChC3B,EAAY,OAAC/F,QAAD,IAACA,OAAD,EAACA,EAAcS,UAAU,GAAGL,GAAIJ,GAC5CyF,EAAa,WAgHRO,EACD,cAAC,EAAD,CAAcjG,QA5HJ,SAAAK,GAC1B2F,EAAa3F,EAAIJ,GACjByF,EAAa,KA0HiDzF,aAAcgG,EAAc/F,UAAU,kBAAqB,MAE7G,cAAC,EAAD,CACAgC,SAAS,SACTD,IAAKqE,IAEJF,GACD,cAAC,EAAD,CACI3G,YAAaA,EACbC,YA5JA,SAAA0F,GAChB,IAAMlF,EAAYkF,EAAEC,OAAOuC,aAAa,QACxCtC,EAAS,YACTN,EAAY9E,IA0JIP,cAAeA,EACfC,KAAMA,OAEd,cAAC,EAAD,CAAcsC,SAAS,aAAaD,IAAKqE,IACzC,sBAAKjH,UAAS,iBAAYwF,EAAQ,UAAY,eAC1ChF,QAASgH,EADb,UAGI,yBACA,yBACA,kCC1MLgB,G,YAnBD,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACZ,OACI,yBAASzI,UAAU,aAAnB,SACI,qBAAKA,UAAU,sBAAf,SACI,sBAAKA,UAAU,kBAAkB0I,MAAO,CAACC,KAAK,gBAAD,OAAkBF,EAAlB,OAA7C,UACI,8BACI,yCAIJ,iCCCLG,G,MAXI,WACf,OACI,iCACI,sBAAK5I,UAAU,sBAAf,UACI,kGACA,8DCMD6I,G,MAXK,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAElB,OACI,yBAAS9I,UAAU,eAAe0I,MAAQ,CAAEK,QAAU,EAAID,GAA1D,SACI,kD,gBCNNE,EAAc,SAAAC,GAChB,IAAIC,GAAY,EACZC,EAAQ,wCA8BZ,OA5BGF,EAAOX,QAAU,IAAMW,EAAOX,QAAU,GACnCc,MAAMH,IACHA,EAAOhE,SAAS,MAAQgE,EAAOhE,SAAS,KAmB3CiE,GAAY,EAhBiB,OAAtBD,EAAO9D,MAAM,EAAE,IAAqC,QAAtB8D,EAAO9D,MAAM,EAAE,IACnB,OAAtB8D,EAAO9D,MAAM,EAAE,IAAiC,KAAlB8D,EAAOX,SACpCY,GAAY,GAES,QAAtBD,EAAO9D,MAAM,EAAE,IAAkC,KAAlB8D,EAAOX,SACrCY,GAAY,GAEbA,IACCC,EAAQ,iCAGZD,GAAY,EACZC,EAAQ,6CAOpBD,GAAY,EACZC,EAAQ,uCAGL,CAACD,EAAWC,IA2CjBE,EAAa,SAACC,GAChB,MAAO,iBAAiB9E,KAAK8E,IAG3BC,EAAY,SAAC,EAAqCC,GAAe,IAAnD9C,EAAkD,EAAlDA,SAAU+C,EAAwC,EAAxCA,SAAUR,EAA8B,EAA9BA,OAAQK,EAAsB,EAAtBA,MACxCI,GAAY,EAEhB,GAAGhD,EACC,GAAG+C,GAeC,GAdiB,aAAdD,IACKP,IACApF,OAAOC,MAAM,2BACb4F,GAAY,GAEZJ,IACAzF,OAAOC,MAAM,mBACb4F,GAAY,GAEZL,EAAWC,KACXzF,OAAOC,MAAM,iCACb4F,GAAY,IAGjBA,EACC,GAAGhD,EAAS4B,OAAS,EACjBzE,OAAOC,MAAM,+CACb4F,GAAY,MACX,CACD,MApEF,SAACD,EAAUD,GACzB,IACIG,GAAU,EACVR,EAAQ,GACRS,EAAQ,EAAGC,EAAQ,EAiCvB,OA/BGJ,EAASnB,OAAS,EACjBa,EAAQ,4CAES,aAAdK,EARM,2CASKhF,KAAKiF,IACX,YAAIA,GAAUK,SAAQ,SAAAC,GACfA,EAAKC,gBAAkBD,EAAKE,gBACxBF,EAAKE,gBAAkBF,IACtBH,GAAO,GAERG,EAAKC,gBAAkBD,IACtBF,GAAO,OAKN,IAAVD,EACCT,EAAQ,0DACO,IAAVU,EACLV,EAAQ,0DAERQ,GAAU,GAGdR,EAAQ,wDAGZQ,GAAU,EAIZ,CAACA,EAASR,GA+B8Be,CAAUT,EAAUD,GAAlD,mBAAOG,EAAP,KAAgBQ,EAAhB,KACA,EAAkCnB,EAAYC,GAA9C,mBAAOC,EAAP,KAAkBkB,EAAlB,KAEGT,EACKT,GAA2B,aAAdM,IACb3F,OAAOC,MAAMsG,GACbV,EAAYR,IAGhBrF,OAAOC,MAAMqG,GACbT,EAAYC,SAKxB9F,OAAOC,MAAP,sBACA4F,GAAY,OAGhB7F,OAAOC,MAAP,sBACA4F,GAAY,EAGhB,OAAOA,GCzHLW,G,MAAe,CACjBC,SAAU,GACV5D,SAAU,GACV+C,SAAU,GACVH,MAAO,GACPL,OAAQ,KAuKGsB,EApKM,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACnB,EAAkCpJ,mBAAS,SAA3C,mBAAOoI,EAAP,KAAkBiB,EAAlB,KACA,EAAgCrJ,mBAASiJ,GAAzC,mBAAOK,EAAP,KAAgBC,EAAhB,KACQjF,EAAgBrC,qBAAWG,IAA3BkC,YAOFkF,EAAc,SAAA7E,GAChBA,EAAEI,iBACF,IAAI0E,EAActB,EAAUmB,EAASlB,GAErC,GADA3J,QAAQC,IAAI+K,GACTA,EAAY,CACX,IAAMC,EAAOJ,EACbC,EAAaN,GAEC,UAAdb,EACAuB,EAAU,CACNrE,SAAUoE,EAAKpE,SAASsD,cACxBP,SAAUqB,EAAKrB,WAEjBuB,EAAa,CACXV,SAAUQ,EAAKR,SAASN,cACxBtD,SAAUoE,EAAKpE,SAASsD,cACxBP,SAAUqB,EAAKrB,SACfR,OAAQ6B,EAAK7B,OACbK,MAAOwB,EAAKxB,MAAMU,kBAKxBe,EAAY,SAAAE,GACdrJ,MAAM,iDAAkD,CACpDC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAUH,KACtBlJ,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ,MAAMC,MAAM,uBAEjBJ,MAAK,SAAAtB,GACD,OAAQA,EACPiF,EAAYjF,GAEZoD,OAAOC,MAAM,yCAElBrB,OAAM,SAAA9C,GAAG,OAAEkE,OAAOC,MAAMnE,OAGzBqL,EAAe,SAAAC,GACjBrJ,MAAM,oDAAqD,CACvDC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAUH,KACtBlJ,MAAK,SAAAC,GACJ,IAAGA,EAAKC,GAGJ,MAAME,MAAM,qBAFZ0B,OAAOuB,QAAQ,uBAIpB3C,OAAM,SAAA9C,GAAG,OAAEkE,OAAOC,MAAMnE,OAG/B+C,qBAAU,WACNiI,EAAaN,KACd,CAACb,IAEJ,IAAM6B,EAAe,SAACtF,EAAGuF,GACrBX,EAAa,2BAAID,GAAL,kBAAeY,EAAYvF,EAAEC,OAAOkC,UAGpD,OACI,yBAASlI,UAAU,uBAAnB,SACI,uBAAMA,UAAS,yBAAoBwJ,EAApB,iBAA8Cd,MAAO,CAAC6C,UAAU,cAAD,OAAgBf,EAAhB,SAAiCgB,SAAUZ,EAAzH,UACQ,8BACI,uBACIa,QAAQ,WADZ,sBAIA,uBACIxD,KAAK,OACLjH,GAAG,WACH0K,KAAK,WACLxD,MAAOwC,EAAQhE,SACfyB,SAAU,SAAApC,GAAC,OAAEsF,EAAatF,EAAG,kBAErC,8BACI,uBACI0F,QAAQ,WADZ,sBAIA,uBACIxD,KAAK,WACLjH,GAAG,WACH0K,KAAK,WACLxD,MAAOwC,EAAQjB,SACftB,SAAU,SAAApC,GAAC,OAAEsF,EAAatF,EAAG,kBAGnB,aAAdyD,EAA2B,qCAC3B,8BACA,uBACIiC,QAAQ,WADZ,sBAIA,uBACIxD,KAAK,OACLjH,GAAG,WACH0K,KAAK,WACLxD,MAAOwC,EAAQJ,SACfnC,SAAU,SAAApC,GAAC,OAAEsF,EAAatF,EAAG,kBAEjC,8BACI,uBACI0F,QAAQ,QADZ,mBAIA,uBACIxD,KAAK,QACLjH,GAAG,QACH0K,KAAK,QACLxD,MAAOwC,EAAQpB,MACfnB,SAAU,SAAApC,GAAC,OAAEsF,EAAatF,EAAG,eAErC,8BACI,uBACI0F,QAAQ,SADZ,oBAIA,uBACIxD,KAAK,MACLjH,GAAG,SACH0K,KAAK,SACLxD,MAAOwC,EAAQzB,OACfd,SAAU,SAAApC,GAAC,OAAEsF,EAAatF,EAAG,mBAE/B,GAEV,8BACI,wBACIkC,KAAK,SACLzH,QAlJJ,SAAAuF,GAChBA,EAAEI,iBACyBsE,EAAb,aAAdjB,EAAwC,QAAwB,aA8IhD,SAIsB,aAAdA,EACA,SAAW,aAEnB,wBAAQvB,KAAK,SAASzH,QAASoK,EAA/B,6BC/GTe,EAnDK,WAChB,MAA2BvK,mBAAS,GAApC,mBAAQ0H,EAAR,KAAgB8C,EAAhB,KACA,EAAkCxK,mBAAS,GAA3C,mBAAQoJ,EAAR,KAAkBqB,EAAlB,KACA,EAAgCzK,mBAAS,GAAzC,mBAAQqH,EAAR,KAAiBqD,EAAjB,KAEMC,EAAgB,SAAAhG,GAAM,IAAD,EACvB,eAAKhC,SAASwC,cAAc,8BAA5B,aAAK,EAA+CoB,UAAUE,SAAS,UAAvE,CAIA,IAAMmE,EAAmC,GAArBnI,OAAOoI,YACrB1E,EAAQxB,EAAEC,OAAO+B,UAOvB,GALKiE,EAAczE,IACfsE,EAAY,GACZD,GAAUrE,EAAQyE,GAAcE,QAAQ,KAGrC3E,GAASyE,GAAmBzE,EAAQ1D,OAAOoI,YAAgB,CAC9D,IAAIE,IAAe5E,EAAQyE,GAAgBnI,OAAOoI,aAAcC,QAAQ,GAAK,IAE7EC,GAAoC,IAAzBC,KAAKC,KAAKF,GAAmB,EAAe,IAAXA,EAE5CN,EAAaM,GAGjBtM,QAAQC,IAAIyH,EAA6B,IAArB1D,OAAOoI,YAAqB,IAChD,IAAIK,EAAqC,IAArBzI,OAAOoI,YAAqB,GAChD,GAAK1E,GAAS+E,EAGVR,EADcvE,EAAQ+E,EAAgB,UAGtCR,EAAW,OAQnB,OAJApJ,qBAAU,WAEN,OADAqB,SAASwC,cAAc,QAAQC,iBAAiB,SAAUuF,GACnD,kBAAMhI,SAASwC,cAAc,QAAQE,oBAAoB,SAAUsF,MAC3E,IAEC,qCACI,cAAC,EAAD,CAAajD,OAAQA,IACrB,cAAC,EAAD,CAAc0B,SAAUA,IACxB,cAAC,EAAD,CAAO/B,QAASA,IAChB,cAAC,EAAD,Q,gEClCG8D,EAnBG,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,MAAO7L,EAAwB,EAAxBA,QAASE,EAAe,EAAfA,UAChC,OACI,qBAAKb,UAAS,UAAKa,EAAL,uCAAd,SACI,oBAAIb,UAAS,UAAKa,EAAL,sBAAb,SACC2L,GAASA,EAAMlE,OAAS,EACzBkE,EAAM1L,KAAI,SAAAgK,GAAI,OACV,oBAAI9K,UAAU,KAAmBQ,QAASG,EAA1C,SACI,oBAAG,UAASmK,EAAK9J,GAAI0H,MAAqB,UAAd7H,GAA4C,IAAnBiK,EAAK2B,UAAsB,CAACC,MAAO,OAAS,CAACA,MAAO,SAAY,GAArH,UACK5B,EAAKpE,UACD,OAAJoE,QAAI,IAAJA,OAAA,EAAAA,EAAMR,UAAN,WAAqBQ,EAAKR,UAAa,OAHxBQ,EAAK9J,OAO7B,6BAAI,gECuDL2L,EAlEE,SAAC3L,GAAyB,IAArB4L,EAAoB,wDACtC,EAA0BxL,mBAAS,MAAnC,mBAAOoL,EAAP,KAAcK,EAAd,KACA,EAA8BzL,oBAAS,GAAvC,mBAAO8B,EAAP,KAAiB4J,EAAjB,KAEMC,EAAavL,uBAAY,WAE3BI,MAAM,4CAAD,OADQgL,EAAY,oBAAsB,cAC1C,gBAAyD5L,GAAM,CAChEa,OAAQ,MACRC,KAAM,SACPC,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ2K,EAAS,MACTC,GAAU,MAEf/K,MAAK,YAA4B,IAAXiL,EAAU,EAAzBC,cAEFJ,EADJD,EACaM,EAASF,GACTA,GACbF,GAAU,QAEf,CAAC9L,EAAI4L,IAEFM,EAAW,SAACF,GACd,IAAIA,EACA,OAAO,KAGX,IAAIG,EAAY,GACZC,EAAe,GAWnB,OATAJ,EAAOlD,SAAQ,SAAAgB,GACRA,EAAKuC,eACJF,EAAU/F,KAAK0D,GAEfA,EAAKuC,eACLD,EAAahG,KAAK0D,MAIvBqC,EAAU7E,OAAS,GAAK8E,EAAa9E,OAAS,EACrC,CACJ6E,YACAC,gBAGI,CACJD,UAAW,KACXC,aAAc,OAK1B1K,qBAAU,WACNqK,MACD,CAAC/L,EAAI+L,IAER,IAAMO,EAAa,WACfT,EAAS,MACTC,GAAU,IAGd,MAAO,CAACN,QAAOtJ,WAAU6J,aAAYO,eCyC1BC,EArGO,SAAC,GAAgB,IAAfxJ,EAAc,EAAdA,SACb/C,EAAMqC,qBAAWC,IAAjBtC,GACAwM,EAAcnK,qBAAWK,IAAzB8J,WACP,EAA4Bb,EAAS3L,GAAI,GAAlC+L,EAAP,EAAOA,WAAYP,EAAnB,EAAmBA,MAEnB,EAAgCpL,mBAASoL,GAAzC,mBAAOiB,EAAP,KAAiBC,EAAjB,KAEAhL,qBAAU,WACNqK,GAAW,KACZ,CAAC/L,IAkCJ0B,qBAAU,WACN,GAAG8J,IAAK,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOW,WAAU,CACzB,IAAIQ,EAAW,GAEfnB,EAAMW,UAAUrD,SAAQ,SAAAgB,GACpB6C,EAASvG,KAAK,CAACpG,GAAI8J,EAAK9J,QAE5BwL,EAAMY,aAAatD,SAAQ,SAAAgB,GACvB6C,EAASvG,KAAK,CAACpG,GAAI8J,EAAK9J,QAG5BY,MAAM,2DAA4D,CAC9DC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjBwC,MAAO7J,EAAS/C,GAChB2M,eAEL5L,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ2B,OAAOC,MAAM,2BAElB/B,MAAK,aA3DI,SAAA8L,GAChB,IAAIb,EAAS,CACTG,UAAW,GACXC,aAAc,IAGlBZ,EAAMW,UAAUrD,SAAQ,SAAAgB,GACpB+C,EAAY/D,SAAQ,SAAAgE,GACbhD,EAAK9J,KAAO8M,EAAQ9M,IACnBgM,EAAOG,UAAU/F,KAAK0D,SAKlC0B,EAAMY,aAAatD,SAAQ,SAAAgB,GACvB+C,EAAY/D,SAAQ,SAAAgE,GACbhD,EAAK9J,KAAO8M,EAAQ9M,IACnBgM,EAAOI,aAAahG,KAAK0D,SAKP,GAA3BkC,EAAOG,UAAU7E,SAChB0E,EAAOG,UAAY,MAEU,GAA9BH,EAAOI,aAAa9E,SACnB0E,EAAOI,aAAe,MAG1BM,EAAYV,GA+BJe,CADqB,EAAfF,mBAIf,CAACrB,IAEJ,IAAMwB,EAAc,uCAAG,WAAMjI,GAAN,qBAAAkI,EAAA,yDACnBlI,EAAEI,iBACIO,EAAWX,EAAEC,OAAOkI,WACdrK,OAAOuB,QAAP,mDAA2DrB,EAAS9C,MAApE,uBAAwFyF,EAAxF,OAHO,wBAMTyH,EAASC,OAAOrI,EAAEC,OAAOuC,aAAa,YACtCqF,EAAQ7J,EAAS/C,GACjBqN,EAAWtK,EAAS9C,MARX,SAUTuM,EAAW9G,EAAUyH,EAAQP,EAAOS,GAAU,GAVrC,OAWftB,GAAW,GAXI,4CAAH,sDAepB,OACI,qCACI,mDACA,cAAC,EAAD,CAAWP,MAAK,OAAEiB,QAAF,IAAEA,OAAF,EAAEA,EAAUN,UAAWtM,UAAW,eAAgBF,QAASqN,IAC3E,kDACA,cAAC,EAAD,CAAWxB,MAAK,OAAEiB,QAAF,IAAEA,OAAF,EAAEA,EAAUL,aAAcvM,UAAW,eAAgBF,QAASqN,QCtF3EM,G,MAbM,SAAC,GAAoD,IAAnDC,EAAkD,EAAlDA,SAAkD,IAAxCC,YAAwC,MAAnC,8BAAmC,EACrE,OACI,qCACI,8BACI,6BACKA,MAGT,qBAAKC,IAAKF,SCFhBG,EAAgB,CAClBC,QAAS,CAAC,OAAQ,OAAQ,IAC1B,OAAQ,SAAU,OAAQ,gBAAiB,YAAa,IACxD,UAAW,aAAc,WAAY,YAAa,sBAAuB,IACzE,eAAgB,eAAgB,IAChC,iBAAkB,kBAAmB,mBAAoB,oBAAqB,IAC9E,SAAU,UAAW,IACrB,cAAe,cAAe,WAAY,mBAC1CC,SAAU,CAACC,QAAS,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACxFC,YAAa,CACTC,OAAQ,GACRC,KAAM,MAEVC,YAAa,+CA+HFC,EA5HM,SAAC,GAAqE,IAApEC,EAAmE,EAAnEA,oBAAqBpL,EAA8C,EAA9CA,SAAUqL,EAAoC,EAApCA,gBAAiB7N,EAAmB,EAAnBA,cACnE,EAAqC8B,qBAAWK,IAAxC2L,EAAR,EAAQA,aAAc7B,EAAtB,EAAsBA,WAEdxM,EAAOqC,qBAAWC,IAAlBtC,GACR,EAA4BI,mBAAS,MAArC,mBAAOkO,EAAP,KAAeC,EAAf,KAMA7M,qBAAU,WACH4M,IACCzP,QAAQC,IAAIwP,EAAOE,GAAGC,qBAAqBC,eAC3CJ,EAAOE,GAAGC,qBAAqBC,cAAcC,aACzCL,EAAOE,GAAGI,KAAKjB,QAAQkB,QACvBP,EAAOE,GAAGC,yBAGnB,CAACH,IAEJ,IAAMQ,EAActO,uBAAY,WAC5B,IAAMf,EAAO6O,EAAOS,UAEpB,OAAGhM,EAAS/C,IAAsB,IAAhB+C,EAAS/C,GAChB,CAAC+C,EAAS/C,GAAIP,GAEd,CAAC,KAAMA,KAEnB,CAACsD,EAAUuL,IAEN/L,EAAiBF,qBAAYG,IAA7BD,aAEAmD,EAAarD,qBAAYC,IAAzBoD,SAEFsJ,EAAa,uCAAG,WAAMjK,GAAN,SAAAkI,EAAA,yDAClBlI,EAAEI,kBACUtC,OAAOuB,QAAQ,+CAFT,gCAKRoI,EAAW9G,EAAU1F,EAAI+C,EAAS/C,GAAI+C,EAAS9C,OALvC,OAMdM,IANc,2CAAH,sDAeb0O,EAAY,uCAAG,WAAMlK,GAAN,SAAAkI,EAAA,yDACjBlI,EAAEI,kBACUtC,OAAOuB,QAAQ,yDAFV,gCAKPiK,EAAarO,EAAI+C,EAAS/C,IALnB,OAMbO,IANa,2CAAH,sDAgClB,OACI,0BAASvB,UAAU,wBAAnB,UACI,oBAAGA,UAAU,oBAAb,UACI,wBAAQQ,QAAS,kBAAI4O,EAAe,WAAf,cAAmBU,OAAxC,SAEQ/L,EAAS/C,IAAsB,IAAhB+C,EAAS/C,GAAW,OAAS,SAGnD+C,EAAS/C,IAAsB,IAAhB+C,EAAS/C,GAAU,mCAE/B,qCACA,wBAAQR,QAhDD,SAAAuF,GACnBA,EAAEI,iBACF5C,GAAa,EAAM,gBAAiB,cAAC,EAAD,CAAeQ,SAAUA,MA8CjD,kBAGA,wBAAQvD,QApCR,WACZoB,MAAM,qEAAD,OAAsEmC,EAAS/C,IAAK,CACrFa,OAAQ,MACRC,KAAM,SACPC,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAmB,MAAhBD,EAAK4B,QACJC,OAAOC,MAAM,2BACN,CAACoM,QAAS,OAEVlO,EAAKE,OAGhB2B,OAAOC,MAAM,8BAElB/B,MAAK,YAAc,IAAZmO,EAAW,EAAXA,QACDA,GACD3M,GAAa,EAAM,UAAW,cAAC,EAAD,CAAcgL,SAAU2B,EAAS1B,KAAM,8BAmBjE,qBAIIzK,EAASzB,OACT,wBAAQ9B,QAASyP,EAAjB,mBAGA,wBAAQzP,QAASwP,EAAjB,sBAMF,GACN,wBAAQxP,QAAS,kBAAI2O,EAAoB,OAAzC,qBAIJ,cAAC,WAAD,CACIG,OAAQa,IACR1P,KAAMsD,EAASuC,KACf8J,QAAS,SAAAd,GA9GjBC,EA8GsCD,IAC9Be,OAAQ3B,QChHT4B,G,MA5BS,SAAC,GAAmC,IAAlCzN,EAAiC,EAAjCA,SAAUlC,EAAuB,EAAvBA,QAASV,EAAc,EAAdA,SAEnCsQ,EAAY,SAAAxK,GACXA,EAAEC,OAAO2B,UAAUE,SAAnB,iBACClH,KAiBR,OAbA+B,qBAAU,WACN,IAAM8N,EAAKzM,SAASwC,cAAc,iBAKlC,OAHGiK,GACCA,EAAGhK,iBAAiB,QAAS+J,GAE1B,WACAC,GACCA,EAAG/J,oBAAoB,QAAS8J,MAG1C,CAAC5P,IAGC,qBAAKX,UAAS,uBAAkB6C,EAAlB,UAAd,SACK5C,MCMEwQ,G,MA1BE,SAAC,GAA0B,IAAzB5N,EAAwB,EAAxBA,SAAU5C,EAAc,EAAdA,SACzB,EAAoCoD,qBAAW2D,IAAvC0J,EAAR,EAAQA,YAAa3J,EAArB,EAAqBA,WAEf4J,EAAWnP,uBAAY,WACzB,OACI,wBAAOxB,UAAS,oBAAe6C,GAA/B,UACK5C,EACD,4BACI,wBAAQO,QAAS,kBAAIkQ,EAAY,OAAjC,gCAIb,CAACzQ,IAEJ,OACI,mCACM8G,EAIM,cAAC4J,EAAD,IAHJ,cAAC,EAAD,CAAiB9N,SAAS,oBAAoBlC,QAAS,iBAAI,IAA3D,SACI,cAACgQ,EAAD,UC2BLC,G,MA7CG,WACd,IAAOC,EAAYxN,qBAAW2D,IAAvB6J,SACArD,EAAcnK,qBAAWK,IAAzB8J,WACP,EAAuDtM,EAAa2P,EAAS7P,IAAI,GAA1EJ,EAAP,EAAOA,aAAcW,EAArB,EAAqBA,cAAeD,EAApC,EAAoCA,gBAEpCoB,qBAAU,WAKN,OAJGmO,GACCtP,GAAc,GAGX,WACwB,gBAAhB,OAARsP,QAAQ,IAARA,OAAA,EAAAA,EAAUC,WACTvP,GAAc,GAAM,GAEpBD,EAAgB,CAACD,UAAW,UAIrC,CAACwP,IAgBJ,OACI,mCACI,cAAC,EAAD,CACIjQ,aAAcA,EACdC,UAAW,eACXF,QAnBQ,SAAAK,GAChBJ,EAAaS,UAAUyI,SAAQ,SAAAiH,GACxBA,EAAK/P,IAAMA,IACE6C,OAAOuB,QAAP,kDAA0D2L,EAAK9P,MAA/D,qBAAiF4P,EAASnK,SAA1F,OAGR8G,EAAWqD,EAASnK,SAAUmK,EAAS7P,GAAI+P,EAAK/P,GAAI+P,EAAK9P,OAAOc,MAAK,WACjER,GAAc,iBCmKvByP,EA5LG,SAAC,GAAkB,IAAjBjE,EAAgB,EAAhBA,WACR/L,EAAOqC,qBAAWC,IAAlBtC,GACA6P,EAAaxN,qBAAW2D,IAAxB6J,SAEFI,EAAe,SAAAC,GACjBrN,OAAOuB,QAAP,eAAuByL,EAASnK,SAAhC,YAA4CwK,EAAW,GAAvD,+CACAtP,MAAM,0DAA2D,CAC7DC,OAAQ,MACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjBpK,KACAmN,OAAQ0C,EAAS7P,OAEtBe,MAAK,SAAAC,GACDA,EAAKC,GACJ8K,IAEAlJ,OAAOC,MAAP,gBAAsBoN,EAAW,GAAjC,eAMNC,EAAa,SAAAC,GACfvN,OAAOuB,QAAP,UAAkBgM,EAAlB,iBAA8BP,EAASnK,SAAvC,MACA9E,MAAM,kEAAD,OAAmEZ,EAAnE,mBAAgF6P,EAAS7P,IAAM,CAChGa,OAAQ,SACRC,KAAM,SACPC,MAAK,SAAAC,GACDA,EAAKC,GACJ8K,IAEAlJ,OAAOC,MAAP,yBAA+B+M,EAASnK,eAK9C2K,EAAiB,SAAA9Q,GACnBsD,OAAOuB,QAAP,eAAuByL,EAASnK,SAAhC,oCAAoEnG,EAApE,MACAqB,MAAM,6DAA8D,CAChEC,OAAQ,MACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjBpK,KACAmN,OAAQ0C,EAAS7P,GACjBT,WAELwB,MAAK,SAAAC,GACDA,EAAKC,GACJ8K,IAEAlJ,OAAOC,MAAP,4BAKNwN,EAAa,SAACC,EAAM9Q,GAYtB,IAAMgJ,EAAW5F,OAAO2N,OAAO,8BAE5B/H,EACC7H,MAAM,uDAAuD,CACzDC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjBpK,KACAyI,eAGP1H,MAAK,SAAAC,GACCA,EAAKC,GACJsP,EAAK9Q,GAELoD,OAAOC,MAAM,qBAIrBD,OAAOC,MAAM,mBAIf2N,EAAgB,SAAAjD,GAGlB,OAFiB3K,OAAO2N,OAAP,oDAA2DhD,MAExDqC,EAASnK,UAAkB7C,OAAOC,MAAM,4BA+BhE,EAAsC5C,EAAa2P,EAAS7P,IAAI,GAAzDO,EAAP,EAAOA,cAAeX,EAAtB,EAAsBA,aACfyO,EAAgBhM,qBAAWK,IAA3B2L,aAEP3M,qBAAU,WACNnB,GAAc,GAAM,KACrB,CAACsP,IAEJ,IAAMa,EAAW,uCAAG,WAAM9D,GAAN,SAAAK,EAAA,0DACJpK,OAAOuB,QAAQ,iDADX,gCAINiK,EAAawB,EAAS7P,GAAI4M,GAJpB,OAKZrM,GAAc,GAAM,GALR,2CAAH,sDASTgC,EAAiBF,qBAAWG,IAA5BD,aAER,OACI,qCACI,6CAAcsN,EAASnK,YACvB,4BACI,yBAAQuB,KAAK,SAASzH,QAlDV,SAAAuF,GACpBA,EAAEI,iBACF,IAAM+K,EAAaL,EAASpE,UAAY,CAAC,eAAgB,gBAAkB,CAAC,aAAc,cAEvFgF,EAAcP,EAAW,KACxBI,EAAWL,EAAcC,IA6CrB,UAAiDL,EAASpE,UAAY,aAAe,WAArF,kBAEFoE,EAASpE,WAAoB,IAAPzL,EAIxB,8BACI,gCACI,6CAGA,4BACI,wBAAQR,QAAS,WACb+C,GAAa,EAAM,aAAc,cAAC,EAAD,MADrC,wBAIS,OAAZ3C,QAAY,IAAZA,OAAA,EAAAA,EAAcS,WACf,cAAC,EAAD,CACIT,aAAcA,EACdD,QAAS+Q,EACT7Q,UAAU,sBACT,YAlBb,4BACI,yBAAQoH,KAAK,SAASzH,QA7CZ,SAAAuF,GAClBA,EAAEI,iBACF,IAAMiL,EAAM,WAETK,EAAcL,IACbE,EAAWH,EAAYC,IAwCnB,oBAAsDP,EAASnK,cAoBlEmK,EAAStQ,KACV,4BACI,yBAAQ0H,KAAK,SAASzH,QA1Dd,SAAAuF,GAIhB,GAHAA,EAAEI,iBACWtC,OAAOuB,QAAP,yBAAmD,UAAlByL,EAAStQ,KAAmB,SAAW,QAAxE,MAEL,CACJ,IAAMoR,EAA4B,UAAlBd,EAAStQ,KAAmB,SAAW,QACvD+Q,EAAWD,EAAgBM,KAoDvB,iCAAmF,UAAlBd,EAAStQ,KAAmB,SAAW,aACrG,OCnGJqR,G,MAnFG,WACd,MAAkCvO,qBAAW2D,IAArC6J,EAAR,EAAQA,SAAUH,EAAlB,EAAkBA,YACV1P,EAAOqC,qBAAWC,IAAlBtC,GACR,EAAoD2L,EAAS3L,GAArDwL,EAAR,EAAQA,MAAOtJ,EAAf,EAAeA,SAAU6J,EAAzB,EAAyBA,WAAYO,EAArC,EAAqCA,WAE/BuE,EAAuB,WAAkC,IAAjC1D,EAAgC,uDAAzB,KAAM2D,EAAmB,wDACtDC,GAAU,EAWd,GAVG5D,EACI0C,GACIA,EAAS1C,SAAWA,GAAU2D,IAC7BC,GAAU,GAIlBA,GAAU,EAGXA,EAAQ,CACP,IAAIC,GAAQ,EACTxF,GACCA,EAAM1C,SAAQ,SAAAgB,GACPA,EAAK9J,KAAOmN,IACX6D,GAAQ,EACRtB,EAAY,CACR1P,GAAImN,EACJzH,SAAUoE,EAAKpE,SACf+F,UAAW3B,EAAK2B,UAChBlM,KAAW,IAALS,EAAS8J,EAAKvK,KAAO,KAC3BuQ,UAAW,mBAMvBkB,IACAD,EAAUC,GAIdD,GACArB,EAAY,OAIpBhO,qBAAU,YACF8J,GAASqE,IAAerE,GAASqE,IACjCgB,EAAqBhB,EAAS1C,UAEnC,CAAC3B,IAEJ9J,qBAAU,WACN,OAAO,WACHgO,EAAY,MACZpD,OAEN,IAOF,OACI,qCACKpK,GAAY+O,MAAMC,QAAQ1F,GACvB,cAAC,EAAD,CACIA,MAAOA,EACP7L,QAVW,SAAAoF,GACvBA,EAAEI,iBACF0L,EAAqBzD,OAAOrI,EAAEC,OAAOuC,aAAa,aAAa,IASnD1H,UAAW,UAEjB,+CAEDgQ,GAAmC,eAAf,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUC,WACnB,cAAC,EAAD,CACIjO,SAAU,uBADd,SAEI,cAAC,EAAD,CACIkK,WAAYA,EACZoF,gBAAiBN,MACX,Q,eCIfO,G,MArFM,SAAC,GAAiB,IAAhBvR,EAAe,EAAfA,UACbwR,EAAWxR,EAAUyR,OAAO,GAAGrI,cAAgBpJ,EAAUsE,MAAM,GACrE,EAA0C9B,qBAAWC,IAA7CtC,EAAR,EAAQA,GAAIiI,EAAZ,EAAYA,OAAQK,EAApB,EAAoBA,MAAOiJ,EAA3B,EAA2BA,WACnBhP,EAAiBF,qBAAWG,IAA5BD,aAER,EAAkCnC,mBAAS,IAA3C,mBAAQoR,EAAR,KAAkBC,EAAlB,KAoDA,OACI,qCACI,8BACI,kDAIJ,uBAAMjH,SAzDM,SAAAzF,GAGhB,IAAI2M,EACAC,EAEJ,GALA5M,EAAEI,iBAKiB,WAAdtF,EAAyB,CAC1B,GAAKoI,IAAWuJ,EAEZ,YADA3O,OAAOC,MAAM,uBAET,IAAD,EACckF,EAAYwJ,GAD1B,mBACFE,EADE,KACGC,EADH,SAGJ,CACH,GAAKrJ,IAAUkJ,EAEX,YADA3O,OAAOC,MAAM,uBAGb4O,EAAMrJ,EAAWmJ,GACjBG,EAAU,mBAKbD,EACD9Q,MAAM,oCAAqC,CACvCC,OAAQ,MACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjB+C,OAAQnN,EACR4R,IAAKJ,EAASxI,cACd6I,MAAOhS,MAEZkB,MAAK,SAAAC,GACCA,EAAKC,IACNsQ,EAAW1R,EAAW2R,GACtB3O,OAAOuB,QAAQ,iBACf7B,KAEAM,OAAOC,MAAM,2BAIrBD,OAAOC,MAAM6O,IAWgB3S,UAAU,KAAvC,UACI,oBAAGA,UAAU,KAAb,UACI,uBAAOyL,QAAS5K,EAAhB,SAA4BwR,IAC5B,uBACIrR,GAAI,CAACH,aACLoH,KAAoB,WAAdpH,EAAyB,MAAQ,QACvCqH,MAAOsK,EACPrK,SAAU,SAAApC,GAAC,OAAE0M,EAAY1M,EAAEC,OAAOkC,aAI1C,4BACI,wBAAQD,KAAK,SAAb,8BC/CL6K,EA9BO,WAClB,MAA0CzP,qBAAWC,IAA7CoD,EAAR,EAAQA,SAAUuC,EAAlB,EAAkBA,OAAQ1I,EAA1B,EAA0BA,KAAM+I,EAAhC,EAAgCA,MACxB/F,EAAiBF,qBAAWG,IAA5BD,aAYR,OACI,qCACI,4CAAamD,KACb,4CAAanG,KACb,8BACI,uBAAOkL,QAAQ,QAAf,qBACA,wBAAQjL,QAhBC,SAAAuF,GACjBA,EAAEI,iBACF5C,GAAa,EAAM,iBAAkB,cAAC,EAAD,CAAc1C,UAAW,YAcvBG,GAAG,QAAlC,SAA2CsI,OAE/C,8BACI,uBAAOmC,QAAQ,SAAf,sBACA,wBAAQjL,QAfE,SAAAuF,GAClBA,EAAEI,iBACF5C,GAAa,EAAM,iBAAkB,cAAC,EAAD,CAAc1C,UAAW,aAatBG,GAAG,SAAnC,SAA6CiI,GAAkB,gBCqDhE8J,I,MA5EK,SAAC,GAAkB,IAAjBhG,EAAgB,EAAhBA,WAClB,EAAkC1J,qBAAW2D,IAArC6J,EAAR,EAAQA,SAAUH,EAAlB,EAAkBA,YACV1P,EAAOqC,qBAAWC,IAAlBtC,GACAuC,EAAiBF,qBAAWG,IAA5BD,aAuCR,OACI,qCACA,sBAAKvD,UAAU,sBAAf,UACI,4BACC6Q,EAASnK,WAEV,4BACI,wBAAQ1G,UAAU,SAClB,WAAiC,wBAAvB6Q,EAASC,UAAsC,cAAgB,WACzEtQ,QA9CsB,SAAAuF,GAGb,gBAFCA,EAAEC,OAAOuC,aAAa,YAGpC3G,MAAM,mEAAD,OAAoEZ,EAApE,mBAAiF6P,EAAS7P,IAAM,CACjGa,OAAQ,SACRC,KAAM,SACPC,MAAK,SAAAC,GACDA,EAAKC,IACJ8K,GAAW,GACX2D,EAAY,OAEZ7Q,QAAQC,IAAI,iCAIpB8B,MAAM,2DAA4D,CAC9DC,OAAQ,MACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjBpK,KACAmN,OAAQ0C,EAAS7P,OAEtBe,MAAK,SAAAC,GACDA,EAAKC,IACJ8K,GAAW,GACX2D,EAAY,OAEZ7Q,QAAQC,IAAI,gCAahB,SAI4B,wBAAvB+Q,EAASC,UACV,wBAA0B,4BAItC,4BACI,wBAAQtQ,QAAS,WACb+C,GAAa,EAAM,eAAgB,cAAC,EAAD,MADvC,+BAIoB,wBAAvBsN,EAASC,UACV,gCACI,8CACYD,EAAS5H,UAErB,6CACW4H,EAASvH,YAEjB,QC+BA0J,GAvGK,SAAC,GAAuB,IAAtBxG,EAAqB,EAArBA,MAAOtJ,EAAc,EAAdA,SACzB,EAAkCG,qBAAW2D,IAArC6J,EAAR,EAAQA,SAAUH,EAAlB,EAAkBA,YACV9K,EAAkBvC,qBAAWG,IAA7BoC,cAEFqN,EAAyB,SAAAlN,GAC3B,IAAI+K,EAAY,KACZ9P,EAAK,KACL0F,EAAW,KAEZ,cAAeX,GACd+K,EAAY/K,EAAE+K,UACd9P,EAAK+E,EAAE/E,GACP0F,EAAWX,EAAEW,WAEboK,EAAY/K,EAAEC,OAAOkN,WAAWA,WAAWvL,UAAU,GAAGwL,QAAQ,QAAQ,IACxEnS,EAAKoN,OAAOrI,EAAEC,OAAOuC,aAAa,YAClC7B,EAAWX,EAAEC,OAAOkI,WAGxB,IAAI6D,GAAU,EAOd,GANGlB,IACIA,EAAS7P,KAAOA,GAAM6P,EAASC,YAAcA,IAAa,OAAC/K,QAAD,IAACA,OAAD,EAACA,EAAGqN,UAC7DrB,GAAU,IAIfA,EAAQ,CACP,IAAI9I,EAAS,KACTK,EAAQ,KAEZkD,EAAMW,UAAUrD,SAAQ,SAAAgB,GACjBA,EAAK9J,KAAOA,IACXiI,EAAS6B,EAAK7B,OACdK,EAAQwB,EAAKxB,UAIrBoH,EAAY,CACR1P,KACA0F,WACAuC,SACAK,QACAwH,mBAGJJ,EAAY,OAIpBhO,qBAAU,WACN,OAAO,WACHgO,EAAY,SAElB,IAEF,MAAoCtP,mBAAS,IAA7C,mBAAOiS,EAAP,KAAmBC,EAAnB,KACA,EAAqClS,mBAAS,MAA9C,mBAAOmS,EAAP,KAAsBC,EAAtB,KAqBA,OATA9Q,qBAAU,WACN4Q,EAAc,IACdE,EAAY,QACb,CAAC3C,IAEJnO,qBAAU,WACN8Q,EAAY5N,EAAa,OAAC4G,QAAD,IAACA,OAAD,EAACA,EAAOY,aAAciG,EAAY,WAC5D,CAACA,IAGA,qCACI,qBAAKrT,UAAU,+BAAf,SACI,8BACI,uBAAOyL,QAAQ,cAAf,iCACA,uBAAOxD,KAAK,OAAOjH,GAAG,cAAckH,MAAOmL,EAAYlL,SAAU,SAAApC,GAAC,OAAEuN,EAAcvN,EAAEC,OAAOkC,MAAM8B,gBAAgB5B,UAxB7G,SAAArC,GACJ,UAATA,EAAEsC,MAAkBkL,GACnBN,EAAuB,CACnBjS,GAAIuS,EAAc,GAAGvS,GACrB0F,SAAU6M,EAAc,GAAG7M,SAC3BoK,UAAW,sBAoBNyC,EACD,cAAC,EAAD,CACI/G,MAAO+G,EACP5S,QAASsS,EACTpS,UAAW,mBACV,QAGb,8CACCqC,EACD,cAAC,EAAD,CACIsJ,MAAK,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAOW,UACdxM,QAASsS,EACTpS,UAAW,wBAEb,kDCzDC4S,GApCK,WAChB,IAAQ5C,EAAaxN,qBAAW2D,IAAxB6J,SACR,EAAiCzP,mBAAS,iBAA1C,mBAAOsS,EAAP,KAAqBzN,EAArB,KACQjF,EAAOqC,qBAAWC,IAAlBtC,GACR,EAAwC2L,EAAS3L,GAAI,GAA7CwL,EAAR,EAAQA,MAAOtJ,EAAf,EAAeA,SAAU6J,EAAzB,EAAyBA,WASzB,OACI,qCACA,sBAAK/M,UAAS,UAAK0T,EAAL,cAAd,UACI,4BACI,wBAAQlT,QAXI,SAAAuF,GACpBA,EAAEI,iBACFtG,QAAQC,IAAI,YAEuBmG,EAAlB,kBAAjByN,EAA4C,cAA0B,kBAO9D,SAEyB,kBAAjBA,EAAmC,cAAgB,oBAI7C,kBAAjBA,EACD,cAAC,EAAD,IACA,cAAC,GAAD,CAAalH,MAAOA,EAAOtJ,SAAUA,QAExC2N,GAAqC,oBAAhB,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUC,YAA0D,yBAAhB,OAARD,QAAQ,IAARA,OAAA,EAAAA,EAAUC,WAIpD,GAHZ,cAAC,EAAD,CACIjO,SAAQ,iCAA4BgO,EAASC,UAArC,cADZ,SAEQ,cAAC,GAAD,CAAa/D,WAAYA,UCY9B4G,GA5CE,SAAC,GAAkB,IAAhB9N,EAAe,EAAfA,SACRF,EAAgBtC,qBAAWG,IAA3BmC,YACAoB,EAAe1D,qBAAW2D,IAA1BD,WACR,EAAqB1D,qBAAWC,IAAxBtC,EAAR,EAAQA,GAAIT,EAAZ,EAAYA,KAENqT,EAAcpS,uBAAY,WAC5B,OACI,cAAC,EAAD,CAAiBqB,SAAU,YAAalC,QAASgF,EAAjD,SACI,0BAAS3F,UAAS,oBAAe6F,EAAf,iBAAlB,UACI,qBAAK7F,UAAS,UAAK6F,EAAL,UAAd,SACI,6BAAkB,UAAbA,EAAuB,QAAU,cAE5B,UAAbA,EACG,cAAC,EAAD,IACA,cAAC,GAAD,WAIjB,CAAC7E,EAAI6E,IAEFgO,EAAkBrS,uBAAY,WAChC,OACI,0BAASxB,UAAS,0BAAlB,UACc,UAATO,GACD,sBAAKP,UAAU,KAAf,UACI,uCACA,cAAC,EAAD,OAEJ,sBAAKA,UAAU,KAAf,UACI,yCACA,cAAC,GAAD,YAIb,CAACgB,IAEJ,OACI,mCACC+F,EAAa,cAAC6M,EAAD,IACd,cAACC,EAAD,OCpCOC,GARG,WACd,OACI,mCACI,cAAC,GAAD,OCiJGC,GA7IS,WACpB,IAAOhN,EAAc1D,qBAAW2D,IAAzBD,WACA/F,EAAMqC,qBAAWC,IAAjBtC,GAEP,EAAsCE,EAAaF,GAA5CJ,EAAP,EAAOA,aAAcW,EAArB,EAAqBA,cACrB,EAA8C8B,qBAAWK,IAAlDK,EAAP,EAAOA,SAAUN,EAAjB,EAAiBA,YAAakD,EAA9B,EAA8BA,aAExBwI,EAAsB,SAAAnO,GACpBA,GAAW,IAALA,GAGE,IAALA,EACCyC,EAAY,CACRzC,GAAI,KACJsF,KAAM,KAGVK,EAAa3F,EAAIJ,GARrB6C,EAAY,OAapBf,qBAAU,WACHqB,IAAQ,OAAInD,QAAJ,IAAIA,OAAJ,EAAIA,EAAcS,YACzBsF,EAAa5C,EAAS/C,GAAIJ,KAE/B,CAACA,IAEJ8B,qBAAU,YACK,OAARqB,QAAQ,IAARA,OAAA,EAAAA,EAAU/C,OAAM,OAAC+C,QAAD,IAACA,OAAD,EAACA,EAAUuC,OAC1BK,EAAa5C,EAAS/C,GAAIJ,KAE/B,CAACmD,IAEJ,IAAMiQ,EAAc,SAACxF,GACjB,IAAMvN,EAAQ4C,OAAO2N,OAAOhD,GAE5B,OAAGvN,GAASA,EAAMkS,QAAQ,MAAO,IAAI7K,OAC1BrH,GAEP4C,OAAOC,MAAM,gBACN,OA+BPP,EAAiBF,qBAAWG,IAA5BD,aAEF0Q,EAAe,SAAAxT,GACjBmB,MAAM,yDAA0D,CAC5DC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU3K,KACtBsB,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ,MAAMC,MAAM,wBAEjBJ,MAAK,YAAsB,IAAlBf,EAAiB,EAAjBA,GAAIkP,EAAa,EAAbA,QAEZzM,EAAY,CACRzC,KACAsF,KAAM,KAGV/E,IACAgC,GAAa,EAAM,WAAY,cAAC,EAAD,CAAcgL,SAAU2B,QAExDzN,OAAM,SAAA9C,GAAG,OAAEE,QAAQC,IAAIH,OAGxBuU,EAAe,SAAAzT,GACjBmB,MAAM,yDAA0D,CAC5DC,OAAQ,MACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU3K,KACtBsB,MAAK,SAAAC,GACJ,GAAGA,EAAKC,GACJ,OAAOD,EAAKE,OAEZ,MAAMC,MAAM,0BAEjBJ,MAAK,WACJR,OACDkB,OAAM,SAAA9C,GAAG,OAAEE,QAAQC,IAAIH,OAG9B,OACI,sBAAKK,UAAU,yBAAf,UACK+D,EACD,cAAC,EAAD,CACIoL,oBAAqBA,EACrBpL,SAAUA,EAAUqL,gBAhFR,SAACpO,EAAID,GACzB,GAAGA,EAAI,CACH,IAAIN,EAAO,CACPsD,SAAUhD,GAGXC,GAAW,IAALA,EACFP,EAAKsD,WAAaA,EAASuC,KAC1BzC,OAAOC,MAAM,wBAEbrD,EAAKQ,MAAQ+S,EAAY,oDACtBvT,EAAKQ,QACJR,EAAKO,GAAKA,EACVkT,EAAazT,MAIrBA,EAAKQ,MAAQ+S,EAAY,qBACtBvT,EAAKQ,OACJgT,EAAaxT,SAIrBZ,QAAQC,IAAI,WA0DR2D,YAAaA,EACblC,cAAeA,IACnB,mCACA,0BAASvB,UAAU,oBAAnB,UACI,mBAAGA,UAAU,gBAAb,SACI,wBAAQQ,QAAS,kBAAI2O,GAAoB,IAAzC,mBAEPvO,EAAe,cAAC,EAAD,CAAcD,QAASwO,EAAqBvO,aAAcA,EAAcC,UAAW,qBAAwB,qBAGrHkG,IAAehD,GAAY,cAAC,GAAD,QCjI9BoQ,GAZI,SAAC,GAA2B,IAA1BlU,EAAyB,EAAzBA,SAAUY,EAAe,EAAfA,UACpB0C,EAAgBF,qBAAWG,IAA3BD,aAEP,OACI,cAAC,EAAD,CAAiBV,SAAS,SAASlC,QAAS4C,EAA5C,SACI,uBAAOvD,UAAS,+BAA0Ba,GAA1C,SACKZ,OCgCFmU,GAlCF,SAAC,GAAe,IAAb5O,EAAY,EAAZA,MACZ,EAA4BnC,qBAAWG,IAA/B6Q,EAAR,EAAQA,MAAOxO,EAAf,EAAeA,SACRyO,EAAejR,qBAAW2D,IAA1BsN,YAEDC,EAAc,WACb1Q,OAAO2Q,YAAc,KACpBF,GAAY,GACPzQ,OAAO2Q,YAAc,MAC1BF,GAAY,IAIpBG,2BAAgB,WAGZ,OAFAF,IACA1Q,OAAO2C,iBAAiB,SAAU+N,GAC3B,kBAAI1Q,OAAO4C,oBAAoB,SAAU8N,MACjD,IAEH,IAAMG,EAAelP,EAAQ,qBAAuB,wBAEpD,OACI,uBAAMxF,UAAS,UAAK0U,GAApB,UACKL,EAAMM,OACH,cAAC,GAAD,CAAY9T,UAAWwT,EAAMxT,UAA7B,SACKwT,EAAMO,QACK,GAClB/O,GAAY,cAAC,GAAD,CAAUA,SAAUA,IACjCL,EACD,cAAC,GAAD,IACA,cAAC,EAAD,QCjCNlC,GAAcuR,wBAAc,MAC5BrR,GAAcqR,wBAAc,MAC5B7N,GAAc6N,wBAAc,MAC5BnR,GAAkBmR,wBAAc,MAEtB,SAASC,KACrB,IA+CA,EAA0B1T,oBAAS,GAAnC,mBAAOoE,EAAP,KAAcuP,EAAd,KACA,EAAwB3T,mBAAS,MAAjC,mBAAO0J,EAAP,KAAakK,EAAb,KACA,EAA4B5T,mBAAS,MAArC,mBAAOyE,EAAP,KAAiBoP,EAAjB,KAsBA,EAAgC7T,mBAAS,MAAzC,mBAAOyP,EAAP,KAAiBH,EAAjB,KA0CA,EAA0BtP,mBAAS,CAC/BuT,QAAQ,IADZ,mBAAON,EAAP,KAAca,EAAd,KAsBA,EAAkC9T,oBAAS,GAA3C,mBAAO2F,EAAP,KAAmBuN,EAAnB,KAEA5R,qBAAU,WACHmD,IAAakB,GACZkO,GAAQ,KAEd,CAAClO,IAGH,MAAgC3F,mBAAS,MAAzC,mBAAO2C,EAAP,KAAiBN,EAAjB,KAeA,OACI,mCACI,cAACD,GAAY2R,SAAb,CAAsBjN,MAAO,CACzBxC,YA/GQ,WAAmB,IAAlBuF,EAAiB,uDAAT,KACzB+J,EAAQ/J,GAEJ8J,IADD9J,IA8GKtF,YAhGQ,WAAoB,IAAnB2F,EAAkB,uDAAR,KAC3B2J,EAAQ3J,IAgGA1F,cA3FU,SAAChD,EAAKwS,EAAQvU,GAAe,IAAD,EAK1CwU,EAJJ,IAAIzS,EACA,OAAO,KAMPyS,EADDjM,MAAMgM,GACKA,EAAOpL,cAEPoL,EAGd,IAAIjO,EAAqB,aAAdtG,EAA2B,CAACQ,UAAW,IAAM,GAoBxD,OAnBAuB,EAAIkH,SAAQ,SAAAhH,GACR,GAAiB,SAAdjC,IACQ,OAAJiC,QAAI,IAAJA,OAAA,EAAAA,EAAM4D,SAASzB,SAASoQ,MAAxB,OAAoCvS,QAApC,IAAoCA,OAApC,EAAoCA,EAAMwH,SAASrF,SAASoQ,MAAgB,OAAJvS,QAAI,IAAJA,OAAA,EAAAA,EAAM9B,MAAOoN,OAAOiH,KAC3FlO,EAAKC,KAAK,CACNpG,GAAI8B,EAAK9B,GACTsJ,SAAUxH,EAAKwH,SACf5D,SAAU5D,EAAK4D,gBAGrB,GAAiB,aAAd7F,EAAyB,CAAC,IAAD,IACvB,OAAJiC,QAAI,IAAJA,OAAA,EAAAA,EAAM9B,MAAOoN,OAAOiH,KAApB,OAAgCvS,QAAhC,IAAgCA,GAAhC,UAAgCA,EAAM7B,aAAtC,aAAgC,EAAagE,SAASoQ,MACrDlO,EAAK9F,UAAU+F,KAAK,CAChBpG,GAAI8B,EAAK9B,GACTC,MAAO6B,EAAK7B,YAMzBmU,IAAWjO,EAAKmB,OAAS,IAAK,UAAAnB,EAAK9F,iBAAL,eAAgBiH,QAAS,GAC/CnB,EAEA,MAwDH5D,aAhDS,WAA+C,IAA9CoR,EAA6C,wDAA/B9T,EAA+B,uDAArB,KAAM+T,EAAe,uDAAT,KAG9CM,EAFLP,EACI9T,EACU,CACL8T,SACA9T,YACA+T,SAGK,2BACFP,GADC,IACMM,WAIT,CAACA,YAmCNN,QACAxO,YANJ,SAQI,cAACvC,GAAY6R,SAAb,CAAsBjN,MAAO,CACzBlH,GAAI8J,EAAOA,EAAK9J,GAAK,KACrB0F,SAAUoE,EAAOA,EAAKpE,SAAW,KACjCnG,KAAMuK,EAAOA,EAAKvK,KAAO,KACzB0I,OAAQ6B,EAAOA,EAAK7B,OAAS,KAC7BK,MAAOwB,EAAOA,EAAKxB,MAAQ,KAC3BiJ,WAnHG,SAAC1R,EAAW+R,GAC3BoC,EAAQ,2BACDlK,GADA,kBAEFjK,EAAY+R,OA0GT,SAQI,cAAClP,GAAgByR,SAAjB,CAA0BjN,MAAO,CAC7BnE,WACA4C,aAjCC,SAAC3F,EAAIJ,GACtBA,EAAaS,UAAUyI,SAAQ,SAAA/I,GACxBA,EAAIC,KAAKA,GACRyC,EAAY,CACRzC,KACAC,MAAOF,EAAIE,MACXqF,KAAMvF,EAAIgD,SACVzB,OAAQvB,EAAIuB,aA2BRmB,cACA+J,WArLD,SAAE9G,EAAUyH,EAAQP,EAAOS,GAC1C,OAAO,IAAIiH,SAAQ,SAACC,EAASC,GACzB5T,MAAM,4DAA6D,CAC/DC,OAAQ,OACRC,KAAM,OACNoJ,QAAS,CACL,eAAgB,oBAEpB5E,KAAM6E,KAAKC,UAAU,CACjB+C,SACAP,QACAS,eAELtM,MAAK,SAAAC,GACDA,EAAKC,IACCkM,IAAWrD,EAAK9J,GACjB6C,OAAOuB,QAAP,oBAA4BiJ,EAA5B,oCAAgE3H,IAEhE7C,OAAOuB,QAAP,oBAA4BiJ,EAA5B,4BAAwD3H,IAG5D6O,MAEA1V,QAAQC,IAAI,iBACZ0V,YA8JInG,aAxJC,SAAClB,EAAQP,GAC1B,OAAO,IAAI0H,SAAQ,SAACC,EAASC,GACzB5T,MAAM,uEAAD,OAAwEuM,EAAxE,kBAAwFP,GAAQ,CACjG/L,OAAQ,SACRC,KAAM,SACPC,MAAK,SAAAC,GACDA,EAAKC,IACJ4B,OAAOuB,QAAQ,4BACfmQ,MAEA1R,OAAOC,MAAM,6BACb0R,aAwIA,SAOI,eAACxO,GAAYmO,SAAb,CAAsBjN,MAAO,CAC7BwI,cACAG,WACA9J,aACAuN,eAJA,UAMI,cAAC,EAAD,CAAS9O,MAAOA,IAChB,cAAC,GAAD,CAAMA,MAAOA,eC1L1BiQ,OAXf,WAEE,OACE,mCACE,cAAC,EAAD,UACE,cAACX,GAAD,SCGOY,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7T,MAAK,YAAkD,IAA/C8T,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFrS,SAASsS,eAAe,SAM1BX,O","file":"static/js/main.6e6ffab0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            hasError: false,\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromError(err) {\r\n        return { hasError: true }\r\n    }\r\n\r\n    componentDidCatch(err, errInfo) {\r\n        console.log(err, errInfo)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError){\r\n            return <h1 className='errorCatcherDialog'>oops! something went wrong</h1>\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","const ProfilePanel = ({panelStatus, menuClicked, logOutHandler, role}) => {\r\n    return (\r\n        <div className={`profile-panel ${panelStatus}`}>\r\n            <ul className=\"fd profile-list\">\r\n                {panelStatus === \"active\" ? <>\r\n                    <li className=\"panel-btn-container\">\r\n                        <button className=\"panel-btn\" onClick={menuClicked} data='profile'>Profile</button></li>\r\n                    {role === 'admin' ? \r\n                    <li className=\"panel-btn-container\">\r\n                        <button className=\"panel-btn\" onClick={menuClicked} data='admin'>Admin</button></li>:\"\"}\r\n                    <li className=\"panel-btn-container\">\r\n                        <button className=\"panel-btn\" onClick={logOutHandler}>Log Out</button></li>\r\n                    </>:\"\"}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfilePanel;","const DocumentList = ({handler, documentList, fromWhere}) => {\r\n    return (\r\n        <div className={`${fromWhere} document-list-container`}>\r\n            <ul className={`${fromWhere} document-list`}>\r\n                {documentList['documents'] ? documentList['documents'].map(doc=>\r\n                <li \r\n                    key={doc.id} \r\n                    id={`doc${doc.id}`} \r\n                    onClick={()=>handler(doc.id)}\r\n                    className={doc['pinned'] ? \"is-pinned\" : \"not-pinned\"}\r\n                    >\r\n                        {doc.title}\r\n                </li>) : \"Empty!\"}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentList;","import { useCallback, useState, useEffect } from \"react\";\r\n\r\nconst useDocuments = (id, load=true) => {\r\n    const [documentList, setDocumentList] = useState({documents: null});\r\n\r\n    const documentFetch = useCallback( ( sideDoc = false, pinOr = false ) =>{\r\n        let which_get = sideDoc ? ( pinOr ? \"pinned\" : \"nonpinned\" ) : 'default';\r\n\r\n        fetch(`https://document-editor-09.herokuapp.com/document/fetch/?id=${id}&which_get=${which_get}`,{\r\n            method: 'GET',\r\n            mode: 'cors'\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                return resp.json()\r\n            }else{\r\n                throw Error(\"error fetching!\");\r\n            }\r\n        }).then(({_documents})=>{\r\n            let documents = _documents.filter(doc => doc.pinned)\r\n            let unpinned = _documents.filter(doc => !doc.pinned)\r\n\r\n            documents = documents ? documents : [];\r\n            unpinned = unpinned ? unpinned : [];\r\n\r\n            documents = documents.concat(unpinned)\r\n\r\n            setDocumentList({documents});\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }, [id])\r\n\r\n    useEffect( () => {\r\n        if ( ( id || id === 0 ) && load ) {\r\n            documentFetch();\r\n        }\r\n    }, [id, documentFetch, load])\r\n\r\n    return {documentList, documentFetch, setDocumentList};\r\n}\r\n\r\nexport default useDocuments;","const NavPanelList = ({arr, classCon}) => {\r\n    return (\r\n        <ul className={`fd nav-list ${classCon}-list-con`}>\r\n            {arr.map((item, i)=>{\r\n                return <li key={i}>\r\n                            <button onClick={item.handler}>\r\n                                {item.label}\r\n                            </button>\r\n                        </li>\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default NavPanelList;","import './ScanPopUp.css';\r\nimport QrReader from 'react-qr-reader';\r\nimport { useContext, useEffect, useState, useRef } from 'react';\r\nimport { DocumentContext, MenuContext, UserContext } from '../../wrappers/DocumentsScannerEditor';\r\n\r\nconst ScanPopUp = () => {\r\n    const [ qrLoaded, setQrLoaded ] = useState({isLoaded: false});\r\n    const { id } = useContext(UserContext);\r\n    const { popUpHandler } = useContext(MenuContext);\r\n    const { setDocument } = useContext(DocumentContext);\r\n\r\n    const qrFetch = qr_text => {\r\n        fetch(`http://127.0.0.1:5000/document/fetch-doc-qr/?str_code=${qr_text}&userid=${id}`, {\r\n            method: 'GET',\r\n            mode: 'cors'\r\n        }).then( resp => {\r\n            if ( resp.ok ){\r\n                if ( resp.status === 204 ) {\r\n                    window.alert(\"not a document!\");\r\n                    return {document: null}\r\n                } else {\r\n                    return resp.json();\r\n                }\r\n            } else {\r\n                window.alert(\"error fetching document!\");\r\n            }\r\n        }).then( ( { document } ) => {\r\n            if ( document ) {\r\n                setDocument(document);\r\n                popUpHandler();\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if ( qrLoaded?.data ) {\r\n            qrFetch(qrLoaded?.data);\r\n        }\r\n    }, [qrLoaded])\r\n\r\n    const handleScan = data =>{\r\n        if ( data ) {\r\n            if ( data.slice(0, 4) === \"doc/\" && data.slice(10, 15) ===\"/doc/\" ) {\r\n                window.confirm(\"Qr accepted!\");\r\n                setTimeout(() => {\r\n                    setQrLoaded({\r\n                        isLoaded: true,\r\n                        data\r\n                    })\r\n                }, 200);\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleError = err => {\r\n        if( err.toString().includes(\"The request is not allowed by the user agent or the platform in the current context.\") ) {\r\n            setLegacy(true)\r\n        }\r\n    }\r\n\r\n    const qrEl = useRef(null);\r\n\r\n    const onDialogClicked = () => {\r\n        qrEl.current.openImageDialog()\r\n    }\r\n\r\n    const [ isLegacy, setLegacy ] = useState(false);\r\n    \r\n    const checkOS = () => {\r\n        var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n            setLegacy(true)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkOS();\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"scan-head fd\">\r\n                <h1>\r\n                    Hello! Scanning!\r\n                </h1>\r\n                {\r\n                    isLegacy ? \r\n                    <p>\r\n                        <button onClick={onDialogClicked}>\r\n                            Upload Image!\r\n                        </button>\r\n                    </p> : \"\"\r\n                }\r\n            </div>\r\n            <QrReader \r\n                ref={qrEl}\r\n                delay={100}\r\n                onError={handleError}\r\n                onScan={handleScan}\r\n                legacyMode={isLegacy}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ScanPopUp;","import { useContext, useState, useEffect, useMemo } from \"react\";\r\nimport './Headers-style.css';\r\nimport { UserContext, MenuContext, SideContext, DocumentContext} from '../../wrappers/DocumentsScannerEditor';\r\nimport ProfilePanel from \"./ProfilePanel\";\r\nimport DocumentList from \"../../wrappers/DocumentList\";\r\nimport useDocuments from \"../../hooks/useDocuments\";\r\nimport NavPanelList from \"./NavPanelList\";\r\nimport ScanPopUp from \"./ScanPopUp\";\r\n\r\nconst Headers = ({logIn}) => {\r\n    const classForHead = logIn ? \"homepage-header\" : \"landingpage-header\";\r\n    const { logInHandle, menuHandler, searchHandler, openMenu } = useContext(MenuContext);\r\n\r\n    const bodyEventListener_panel = e => {\r\n        if(e.target.className !== 'panel-btn-container' && e.target.className !== 'panel-btn' && e.target.className !== 'nav-btn'){\r\n            if(panelStatus==='active'){\r\n                setPanel('inactive');\r\n            }\r\n        }\r\n    }\r\n\r\n    const [panelStatus, setPanel] = useState(\"inactive\");\r\n\r\n    const panelClicked = (e=null) => {\r\n        if(e){\r\n            e.preventDefault();\r\n        }\r\n        \r\n        if(panelStatus === 'inactive'){\r\n            if(searchDoc){\r\n                setSearchDoc(\"\");\r\n            }   \r\n        }\r\n\r\n        if(openMenu){\r\n            menuHandler();\r\n        }\r\n\r\n        panelStatus === 'active' ? setPanel(\"inactive\") : setPanel(\"active\");\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        const body = document.querySelector('body');\r\n        if(logIn){\r\n            if(panelStatus === 'active'){\r\n                body.addEventListener('click', bodyEventListener_panel);\r\n            }else{\r\n                body.removeEventListener('click', bodyEventListener_panel);\r\n        }}\r\n        return ()=>{\r\n            if(panelStatus==='active'){\r\n                body.removeEventListener('click', bodyEventListener_panel);\r\n            }\r\n        }\r\n    }, [panelStatus])\r\n\r\n    const menuClicked = e => {\r\n        const fromWhere = e.target.getAttribute('data');\r\n        setPanel(\"inactive\");\r\n        menuHandler(fromWhere);\r\n    }\r\n\r\n    const { id, username, role } = useContext(UserContext);\r\n\r\n    const logOutHandler = () => {\r\n        logInHandle();\r\n    }\r\n\r\n    const {documentList} = useDocuments(id);\r\n    const {documentFind} = useContext(DocumentContext);\r\n    const [searchDoc, setSearchDoc] = useState(\"\");\r\n    const [docsSearched, setSearched] = useState(null);\r\n\r\n    useEffect(()=>{\r\n        if(documentList?.documents){\r\n            setSearched(searchHandler(documentList.documents, searchDoc, 'document'));\r\n        }\r\n    }, [searchDoc])\r\n\r\n    const documentSearchHandler = id =>{\r\n        documentFind(id, documentList);\r\n        setSearchDoc(\"\");\r\n    }\r\n\r\n    const onSearchEnter = e => {\r\n        if(searchDoc){\r\n            const code = e.code;\r\n            if(code === \"Enter\"){\r\n                if(documentList?.documents.length > 0){\r\n                    documentFind(documentList?.documents[0].id, documentList);\r\n                    setSearchDoc(\"\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const {popUpHandler} = useContext(MenuContext);\r\n\r\n    const scanPopHandler = e => {\r\n        e.preventDefault();\r\n\r\n        popUpHandler(true, \"scan-header\", <ScanPopUp />)\r\n    }\r\n    \r\n    const { isAttached } = useContext(SideContext);\r\n\r\n    const nav_arr = useMemo(()=>{\r\n        let _arr = []\r\n\r\n        if ( logIn ) {\r\n            _arr.push({\r\n                label: 'Scan',\r\n                handler: scanPopHandler\r\n            })\r\n\r\n            if ( isAttached ) {\r\n                _arr.push({\r\n                    label: username,\r\n                    handler: panelClicked\r\n                })\r\n            }else{\r\n                _arr.push({\r\n                    label: 'Log Out',\r\n                    handler: logOutHandler\r\n                })\r\n            }\r\n        } else {\r\n            _arr = [\r\n                {\r\n                    label: 'Sign in',\r\n                    handler: () => console.log(\"Sign in!\")\r\n                },\r\n                {\r\n                    label: 'About',\r\n                    handler: () => console.log(\"About!\")\r\n                },\r\n                {\r\n                    label: 'Contacts',\r\n                    handler: () => console.log(\"Contacts!\")\r\n                }\r\n            ]\r\n        }\r\n\r\n        return _arr\r\n\r\n    }, [logIn, username, isAttached])\r\n\r\n    const noScroll = e => {\r\n        e.target.scrollTo(0, e.target.scTop);\r\n    }\r\n\r\n    const burgerMachine = () => {\r\n        const burg = document.querySelector(\".burger\");\r\n        const navL = document.querySelector(\".nav-list\");\r\n\r\n        burg.classList.toggle(\"-open\");\r\n        navL.classList.toggle(\"-open\");\r\n        \r\n        if ( burg.classList.contains(\"-not-signed\") ) {\r\n            \r\n            const bod = document.querySelector(\"body\");\r\n\r\n            if ( burg.classList.contains(\"-open\") ) {\r\n                bod.scTop = bod.scrollTop;\r\n                bod.eventAt = true\r\n                bod.addEventListener(\"scroll\", noScroll);\r\n            } else{\r\n                bod.scTop = 0;\r\n                bod.eventAt = false\r\n                bod.removeEventListener(\"scroll\", noScroll);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if ( logIn ) {\r\n            const bod = document.querySelector(\"body\");\r\n\r\n            if ( bod?.eventAt ) {\r\n                bod.removeEventListener(\"scroll\", noScroll)\r\n            }\r\n        }\r\n    }, [logIn])\r\n\r\n    useEffect(()=>{\r\n        if(document.querySelector(\".burger\").classList.contains(\"-open\")){\r\n            burgerMachine();\r\n        }\r\n    }, [isAttached])\r\n\r\n    return (\r\n        <header className={`${classForHead}`}>\r\n            <div className=\"fd universal-container\">\r\n                <div className=\"icon\">\r\n                    Doc\r\n                </div>\r\n                {logIn ? <>\r\n                    <div className=\"searchbar-container\">\r\n                        <p>\r\n                            <input className=\"searchbar\" aria-label=\"Searchbar\" type=\"text\" value={searchDoc} onChange={e=>setSearchDoc(e.target.value)} onKeyDown={onSearchEnter}/>\r\n                        </p>\r\n                        {docsSearched ? \r\n                        <DocumentList handler={documentSearchHandler} documentList={docsSearched} fromWhere=\"header-search\" /> : \"\"}\r\n                    </div>\r\n                    <NavPanelList \r\n                    classCon=\"signed\"\r\n                    arr={nav_arr}\r\n                    />\r\n                    {isAttached && \r\n                    <ProfilePanel \r\n                        panelStatus={panelStatus} \r\n                        menuClicked={menuClicked} \r\n                        logOutHandler={logOutHandler}\r\n                        role={role}/>}\r\n                </> : \r\n                <NavPanelList classCon=\"not-signed\" arr={nav_arr}/>}\r\n                <div className={`burger ${logIn ? \"-signed\" : \"-not-signed\"}`}\r\n                    onClick={burgerMachine}\r\n                >\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Headers;","import './AboutInfo.css';\r\n\r\nconst About = ({inSlide}) => {\r\n    return (\r\n        <section className=\"about-info\">\r\n            <div className=\"universal-container\">\r\n                <div className=\"about-container\" style={{left: `calc(-100% + ${inSlide}%)`}}>\r\n                    <div>\r\n                        <h1>\r\n                            About\r\n                        </h1>        \r\n                    </div>\r\n                    <div>\r\n                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default About;","import './FooterInfo.css'\r\n\r\nconst FooterInfo = () => {\r\n    return (\r\n        <footer>\r\n            <div className=\"universal-container\">\r\n                <p>Source code https://github.com/KnackHops/documents-scanner-editor</p>\r\n                <p>Developed by KnackHops</p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default FooterInfo;","import './GeneralLand.css'\r\n\r\nconst GeneralLand = ({opaMin}) => {\r\n\r\n    return (\r\n        <section className=\"general-land\" style={ { opacity: (1 - opaMin) } }>\r\n            <h1>\r\n                General Here\r\n            </h1>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default GeneralLand;","const mobileCheck = mobile => {\r\n    let mobilechk = true;\r\n    let error = 'Mobile Number has invalid characters!';\r\n\r\n    if(mobile.length >= 11 && mobile.length <= 13){\r\n        if(!isNaN(mobile)){\r\n            if(mobile.includes('E') || mobile.includes('e')){\r\n                mobilechk = false;\r\n            }else{\r\n                if(mobile.slice(0,2) === '09' || mobile.slice(0,3) === '639'){\r\n                    if(mobile.slice(0,2) === '09' && mobile.length !== 11){\r\n                        mobilechk = false;\r\n                    }\r\n                    if(mobile.slice(0,3) === '639' && mobile.length !== 13){\r\n                        mobilechk = false;\r\n                    }\r\n                    if(mobilechk){\r\n                        error = 'Mobile number must be valid';\r\n                    }\r\n                }else{\r\n                    mobilechk = false;\r\n                    error = 'Mobile number must start with 09 and 639'\r\n                }\r\n            }\r\n        }else{\r\n            mobilechk = false;\r\n        }\r\n    }else{\r\n        mobilechk = false;\r\n        error = 'Mobile number must be 11 to 13 long'\r\n    }\r\n\r\n    return [mobilechk, error];\r\n}\r\n\r\nconst passCheck = (password, whichOpen) => {\r\n    let format = /[ `!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\r\n    let passchk = false;\r\n    let error = '';\r\n    let upper = 0, lower = 0;\r\n\r\n    if(password.length < 5){\r\n        error = 'Password needs to be 5 characters or more'\r\n    }else{\r\n        if(whichOpen === 'register'){\r\n            if(format.test(password)){\r\n                [...password].forEach(lett=>{\r\n                    if(lett.toLowerCase() !== lett.toUpperCase()){\r\n                        if(lett.toUpperCase() === lett){\r\n                            upper+=1;\r\n                        }\r\n                        if(lett.toLowerCase() === lett){\r\n                            lower+=1;\r\n                        }\r\n                    }\r\n                })\r\n    \r\n                if(upper === 0){\r\n                    error = 'Password needs to have at least one uppercase character';\r\n                }else if(lower === 0){\r\n                    error = 'Password needs to have at least one lowercase character';\r\n                }else{\r\n                    passchk = true;\r\n                }\r\n            }else{\r\n                error = 'Password needs to have at least one special character';\r\n            }\r\n        }else{\r\n            passchk = true;\r\n        }\r\n    }\r\n\r\n    return[passchk, error];\r\n}\r\n\r\nconst emailCheck = (email) => {\r\n    return /^\\S+@\\S+\\.\\S+$/.test(email)\r\n}\r\n\r\nconst userCheck = ({username, password, mobile, email}, whichOpen) => {\r\n    let returnVar = true;\r\n\r\n    if(username){\r\n        if(password){\r\n            if(whichOpen === 'register'){\r\n                if(!mobile){\r\n                    window.alert('Mobile Number is empty!');\r\n                    returnVar = false;\r\n                }\r\n                if(!email){\r\n                    window.alert('Email is empty!');\r\n                    returnVar = false;\r\n                }\r\n                if(!emailCheck(email)){\r\n                    window.alert('Please provide a proper email');\r\n                    returnVar = false;\r\n                }\r\n            }\r\n            if(returnVar){\r\n                if(username.length < 5){\r\n                    window.alert('Username needs to be 5 characters or longer');\r\n                    returnVar = false;\r\n                }else{\r\n                    const [passchk, pass_error] = passCheck(password, whichOpen);\r\n                    const [mobilechk, mobile_error] = mobileCheck(mobile);\r\n\r\n                    if(passchk){\r\n                        if(!mobilechk && whichOpen === 'register'){\r\n                            window.alert(mobile_error);\r\n                            returnVar = mobilechk;\r\n                        }\r\n                    }else{\r\n                        window.alert(pass_error);\r\n                        returnVar = passchk;\r\n                    }\r\n                }\r\n            }\r\n        }else{\r\n            window.alert(`Password is empty!`);\r\n            returnVar = false;\r\n        }\r\n    }else{\r\n        window.alert(`Username is empty!`);\r\n        returnVar = false;\r\n    }\r\n\r\n    return returnVar;\r\n}\r\n\r\nexport { userCheck, mobileCheck, emailCheck };","import { useState, useEffect, useContext } from \"react\";\r\nimport { userCheck } from \"./UserCheck\";\r\nimport { MenuContext } from \"../../../wrappers/DocumentsScannerEditor\";\r\nimport './LandPageForm.css';\r\n\r\nconst initialState = {\r\n    fullname: \"\",\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    mobile: ''\r\n}\r\n\r\nconst LandPageForm = ({panSlide}) => {\r\n    const [whichOpen, setWhichOpen] = useState(\"login\");\r\n    const [userInp, setUserInput] = useState(initialState)\r\n    const { logInHandle } = useContext(MenuContext);\r\n    \r\n    const openHandler = e => {\r\n        e.preventDefault();\r\n        whichOpen === 'register' ? setWhichOpen('login') : setWhichOpen('register');\r\n    }\r\n\r\n    const formHandler = e => {\r\n        e.preventDefault();\r\n        let validityChk = userCheck(userInp, whichOpen);\r\n        console.log(validityChk)\r\n        if(validityChk){\r\n            const user = userInp;\r\n            setUserInput(initialState);\r\n            \r\n            whichOpen === 'login' ?\r\n            loginUser({\r\n                username: user.username.toLowerCase(),\r\n                password: user.password\r\n            }) \r\n            : registerUser({\r\n                fullname: user.fullname.toLowerCase(),\r\n                username: user.username.toLowerCase(),\r\n                password: user.password,\r\n                mobile: user.mobile,\r\n                email: user.email.toLowerCase()\r\n            });\r\n        }\r\n    }\r\n\r\n    const loginUser = _user => {\r\n        fetch('https://document-editor-09.herokuapp.com/login', {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(_user)\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                return resp.json();\r\n            }else{\r\n                throw Error('error logging in');\r\n            }\r\n        }).then(data=>{\r\n            if('id' in data){\r\n                logInHandle(data);\r\n            }else{\r\n                window.alert('Your account is not yet activated!')\r\n            }\r\n        }).catch(err=>window.alert(err))\r\n    }\r\n\r\n    const registerUser = _user => {\r\n        fetch('https://document-editor-09.herokuapp.com/register', {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(_user)\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                window.confirm('User registered!');\r\n            }else{\r\n                throw Error('error registering');\r\n            }\r\n        }).catch(err=>window.alert(err))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setUserInput(initialState);\r\n    }, [whichOpen])\r\n\r\n    const inputHandler = (e, whichFrom) => {\r\n        setUserInput({...userInp, [whichFrom]: e.target.value});\r\n    }\r\n\r\n    return (\r\n        <section className=\"land-page-section fd\" >\r\n            <form className={`land-page-form ${whichOpen}-container fd`} style={{transform: `translateX(${panSlide}rem)`}} onSubmit={formHandler}>\r\n                    <p>\r\n                        <label \r\n                            htmlFor=\"username\">\r\n                                username\r\n                        </label>\r\n                        <input \r\n                            type=\"text\" \r\n                            id=\"username\" \r\n                            name=\"username\" \r\n                            value={userInp.username} \r\n                            onChange={e=>inputHandler(e, 'username')}></input>\r\n                    </p>\r\n                    <p>\r\n                        <label \r\n                            htmlFor=\"password\">\r\n                                password\r\n                        </label>\r\n                        <input \r\n                            type=\"password\" \r\n                            id=\"password\" \r\n                            name=\"password\" \r\n                            value={userInp.password} \r\n                            onChange={e=>inputHandler(e, 'password')}></input>\r\n                    </p> \r\n                    {\r\n                        whichOpen === \"register\" ? <>\r\n                        <p>\r\n                        <label\r\n                            htmlFor=\"fullname\">\r\n                                fullname\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            name=\"fullname\"\r\n                            value={userInp.fullname}\r\n                            onChange={e=>inputHandler(e, 'fullname')}></input>\r\n                    </p>\r\n                        <p>\r\n                            <label \r\n                                htmlFor=\"email\">\r\n                                    email\r\n                            </label>\r\n                            <input \r\n                                type=\"email\" \r\n                                id=\"email\" \r\n                                name=\"email\" \r\n                                value={userInp.email} \r\n                                onChange={e=>inputHandler(e, 'email')}></input>\r\n                        </p>\r\n                        <p>\r\n                            <label \r\n                                htmlFor=\"mobile\">\r\n                                    mobile\r\n                            </label>\r\n                            <input \r\n                                type=\"tel\" \r\n                                id=\"mobile\" \r\n                                name=\"mobile\" \r\n                                value={userInp.mobile} \r\n                                onChange={e=>inputHandler(e, 'mobile')}></input>\r\n                        </p>\r\n                        </> : \"\"\r\n                    }\r\n                    <p>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={openHandler}>\r\n                            {\r\n                                whichOpen === \"register\" ? \r\n                                \"Log In\" : \"Register\"\r\n                            }</button>\r\n                        <button type=\"submit\" onClick={formHandler}>Submit</button>\r\n                    </p>\r\n                </form>\r\n        </section>\r\n        \r\n    )\r\n}\r\n\r\nexport default LandPageForm;","import About from \"./AboutInfo\";\r\nimport FooterInfo from \"./FooterInfo\";\r\nimport GeneralLand from \"./GeneralLand\";\r\nimport \"./LandingPage-style.css\";\r\nimport LandPageForm from './LandPageForm';\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst LandingPage = () => {\r\n    const [ opaMin, setOpa ] = useState(0);\r\n    const [ panSlide, setPanSlide ] = useState(0);\r\n    const [ inSlide, setInslide ] = useState(0);\r\n\r\n    const scrollHandler = e => {\r\n        if ( document.querySelector(\".burger.-not-signed\")?.classList.contains(\"-open\") ) {\r\n            return\r\n        }\r\n\r\n        const fortyScroll = window.innerHeight * .4;\r\n        const scTop = e.target.scrollTop;\r\n\r\n        if ( fortyScroll > scTop ) {\r\n            setPanSlide(0)\r\n            setOpa( ( scTop / fortyScroll ).toFixed(2) );\r\n        } \r\n\r\n        if ( ( scTop >= fortyScroll ) && ( scTop < window.innerHeight ) ) {\r\n            let newSlide = ( ( scTop - fortyScroll ) / window.innerHeight ).toFixed(2) - .01;\r\n\r\n            newSlide = Math.sign(newSlide) === -1 ? 0 : newSlide * 100;\r\n\r\n            setPanSlide( newSlide );\r\n        }\r\n\r\n        console.log(scTop, (window.innerHeight * .75) - 25)\r\n        let inScrollComp = (window.innerHeight * .75) - 25;\r\n        if ( scTop <= inScrollComp ) {\r\n\r\n            let new_in = (scTop / inScrollComp) * 100;\r\n            setInslide( new_in )\r\n        } else {\r\n            setInslide(100)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        document.querySelector(\"body\").addEventListener(\"scroll\", scrollHandler)\r\n        return () => document.querySelector(\"body\").removeEventListener(\"scroll\", scrollHandler)\r\n    }, [])\r\n    return (\r\n        <>\r\n            <GeneralLand opaMin={opaMin}/>\r\n            <LandPageForm panSlide={panSlide}/>\r\n            <About inSlide={inSlide} />\r\n            <FooterInfo/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LandingPage;","const UserLists = ({users, handler, fromWhere}) => {\r\n    return (\r\n        <div className={`${fromWhere}-list-container user-list-container`}>\r\n            <ul className={`${fromWhere}-list user-list fd`}>\r\n            {users && users.length > 0? \r\n            users.map(user=>\r\n                <li className=\"fd\" key={user.id} onClick={handler}>\r\n                    <p data-id={user.id} style={fromWhere === 'admin' ? (user.activated === false ? {color: 'red'} : {color: 'black'}) : {}}>\r\n                        {user.username}\r\n                        {user?.fullname ? `/${user.fullname}` : \"\"}\r\n                    </p>\r\n                </li>)\r\n            : \r\n                <li><p>No other user right now!</p></li>}\r\n            </ul>\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default UserLists;","import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useUsers = (id, sub_fetch=false) => {\r\n    const [users, setUsers] = useState(null);\r\n    const [isLoaded, setLoaded] = useState(false);\r\n\r\n    const fetchUsers = useCallback(() => {\r\n        const link = sub_fetch ? \"subordinate-fetch\" : \"admin-fetch\";\r\n        fetch(`https://document-editor-09.herokuapp.com/${link}/?id=${id}`, {\r\n            method: 'GET',\r\n            mode: 'cors'\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                return resp.json();\r\n            }else{\r\n                setUsers(null);\r\n                setLoaded(false);\r\n            }\r\n        }).then(({fetched_users: _users})=>{\r\n            sub_fetch ?\r\n                setUsers(usersGet(_users)) :\r\n                setUsers(_users);\r\n            setLoaded(true);\r\n        })\r\n    }, [id, sub_fetch])\r\n\r\n    const usersGet = (_users) =>{\r\n        if(!_users){\r\n            return null\r\n        }\r\n\r\n        let sub_users = []\r\n        let nonsub_users = []\r\n\r\n        _users.forEach(user => {\r\n            if(user.isSubordinate){\r\n                sub_users.push(user)\r\n            }\r\n            if(!user.isSubordinate){\r\n                nonsub_users.push(user)\r\n            }\r\n        });\r\n\r\n        if(sub_users.length > 0 || nonsub_users.length > 0){\r\n            return ({\r\n                sub_users,\r\n                nonsub_users\r\n            });\r\n        }else{\r\n            return ({\r\n                sub_users: null,\r\n                nonsub_users: null\r\n            })\r\n        }\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        fetchUsers();\r\n    }, [id, fetchUsers])\r\n\r\n    const clearUsers = () => {\r\n        setUsers(null);\r\n        setLoaded(false);\r\n    }\r\n\r\n    return {users, isLoaded, fetchUsers, clearUsers};\r\n}\r\n\r\nexport default useUsers;","import { useState, useContext, useEffect } from \"react\";\r\nimport { UserContext, DocumentContext } from \"../../../wrappers/DocumentsScannerEditor\";\r\nimport UserLists from \"../../../wrappers/UserLists\";\r\nimport useUsers from \"../../../hooks/useUser\";\r\n\r\nconst DocumentPopUp = ({document}) => {\r\n    const {id} = useContext(UserContext);\r\n    const {pinHandler} = useContext(DocumentContext);\r\n    const {fetchUsers, users} = useUsers(id, true);\r\n\r\n    const [popUsers, setPopUsers] = useState(users);\r\n\r\n    useEffect(()=>{\r\n        fetchUsers(true);\r\n    }, [id])\r\n\r\n    const idFilterGet = id_filtered => {\r\n        let _users = {\r\n            sub_users: [],\r\n            nonsub_users: []\r\n        }\r\n\r\n        users.sub_users.forEach(user=>{\r\n            id_filtered.forEach(each_id =>{\r\n                if(user.id === each_id.id){\r\n                    _users.sub_users.push(user);\r\n                }\r\n            })\r\n        })\r\n\r\n        users.nonsub_users.forEach(user=>{\r\n            id_filtered.forEach(each_id => {\r\n                if(user.id === each_id.id){\r\n                    _users.nonsub_users.push(user);\r\n                }\r\n            })\r\n        })\r\n        \r\n        if(_users.sub_users.length == 0){\r\n            _users.sub_users = null\r\n        }\r\n        if(_users.nonsub_users.length == 0){\r\n            _users.nonsub_users = null\r\n        }\r\n\r\n        setPopUsers(_users);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(users && users?.sub_users){\r\n            let id_lists = [];\r\n\r\n            users.sub_users.forEach(user=>{\r\n                id_lists.push({id: user.id});\r\n            })\r\n            users.nonsub_users.forEach(user=>{\r\n                id_lists.push({id: user.id});\r\n            })\r\n\r\n            fetch(`https://document-editor-09.herokuapp.com/send-user-fetch`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    docid: document.id,\r\n                    id_lists\r\n                })\r\n            }).then(resp=>{\r\n                if(resp.ok){\r\n                    return resp.json();\r\n                }else{\r\n                    window.alert(\"Error fetching users\");\r\n                }\r\n            }).then(({id_filtered})=>{\r\n                idFilterGet(id_filtered);\r\n            })\r\n        }\r\n    }, [users])\r\n\r\n    const sendBtnHandler = async e => {\r\n        e.preventDefault();\r\n        const username = e.target.innerHTML;\r\n        const con = window.confirm(`Are you sure you want to send Document: \"${document.title}\" to User: \"${username}\"?`);\r\n\r\n        if(con){\r\n            const userid = Number(e.target.getAttribute('data-id'));\r\n            const docid = document.id;\r\n            const doctitle = document.title;\r\n\r\n            await pinHandler(username, userid, docid, doctitle, true);\r\n            fetchUsers(true)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <h1>User subordinates</h1>\r\n            <UserLists users={popUsers?.sub_users} fromWhere={'document-pop'} handler={sendBtnHandler} />\r\n            <h1>Non subordinates</h1>\r\n            <UserLists users={popUsers?.nonsub_users} fromWhere={'document-pop'} handler={sendBtnHandler}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DocumentPopUp;","import './QRSavedPopUp.css';\r\n\r\nconst QRSavedPopUp = ({qr_image, text=\"Saved! Here is the qr code!\"}) => {\r\n    return (\r\n        <>\r\n            <div>\r\n                <h1>\r\n                    {text}\r\n                </h1>\r\n            </div>\r\n            <img src={qr_image}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default QRSavedPopUp;","import \"./DocumentPage-style.css\"\r\nimport DecoupledEditor from '@ckeditor/ckeditor5-build-decoupled-document';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { DocumentContext, UserContext, MenuContext } from \"../../../wrappers/DocumentsScannerEditor\";\r\nimport DocumentPopUp from \"./DocumentPopUp\";\r\nimport QRSavedPopUp from \"./QRSavedPopUp\";\r\n\r\nconst toolbarConfig = {\r\n    toolbar: ['undo', 'redo', '|', \r\n    'bold', 'italic', 'link', 'strikethrough', 'underline', '|', \r\n    'heading', 'fontFamily', 'fontSize', 'fontColor', 'fontBackgroundColor', '|', \r\n    'numberedList', 'bulletedList', '|', \r\n    'alignment:left', 'alignment:right', 'alignment:center', 'alignment:justify', '|',\r\n    'indent', 'outdent', '|',\r\n    'insertTable', 'tableColumn', 'tableRow', 'mergeTableCells'],\r\n    fontSize: {options: [9, 10, 11, 12, 13, 14, 15, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36]},\r\n    indentBlock: {\r\n        offset: .1,\r\n        unit: 'in'\r\n    },\r\n    placeholder: \"Fresh start is what we need...start typing!\"\r\n}\r\n\r\nconst DocumentPage = ({documentLoadHandler, document, documentHandler, documentFetch}) => {\r\n    const { unpinHandler, pinHandler } = useContext(DocumentContext);\r\n\r\n    const { id } = useContext(UserContext);\r\n    const [editor, setEditor] = useState(null);\r\n\r\n    const documentInit = newEditor => {\r\n        setEditor(newEditor);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(editor){\r\n            console.log(editor.ui.getEditableElement().parentElement)\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n        }\r\n    }, [editor])\r\n\r\n    const dataHandler = useCallback(()=>{\r\n        const data = editor.getData();\r\n        \r\n        if(document.id || document.id === 0){\r\n            return [document.id, data];\r\n        }else{\r\n            return [null, data];\r\n        }\r\n    }, [document, editor])\r\n\r\n    const { popUpHandler } = useContext( MenuContext );\r\n\r\n    const { username } = useContext( UserContext )\r\n\r\n    const pinPopHandler = async e => {\r\n        e.preventDefault();\r\n        const con = window.confirm(\"Are you sure you want to pin this document?\");\r\n\r\n        if ( con ) {\r\n            await pinHandler(username, id, document.id, document.title);\r\n            documentFetch();\r\n        }\r\n    }\r\n\r\n    const sendPopHandler = e => {\r\n        e.preventDefault();\r\n        popUpHandler(true, 'document-page', <DocumentPopUp document={document} />);\r\n    }\r\n\r\n    const unpinClicked = async e => {\r\n        e.preventDefault();\r\n        const con = window.confirm(\"Are you sure you want to unpin this document for you?\");\r\n\r\n        if ( con ) {\r\n            await unpinHandler(id, document.id);\r\n            documentFetch();\r\n        }\r\n    }\r\n\r\n    const show_QR = () => {\r\n        fetch(`https://document-editor-09.herokuapp.com/document/fetch-qr/?docid=${document.id}`,{\r\n            method: 'GET',\r\n            mode: 'cors'\r\n        }).then(resp=> {\r\n            if(resp.ok){\r\n                if(resp.status === 204){\r\n                    window.alert(\"document doesn't exist!\");\r\n                    return {qr_code: null};\r\n                }else{\r\n                    return resp.json();\r\n                }\r\n            }else{\r\n                window.alert(\"Error fetching qr code!\");\r\n            }\r\n        }).then(({qr_code})=>{\r\n            if ( qr_code ) {\r\n                popUpHandler(true, \"show-qr\", <QRSavedPopUp qr_image={qr_code} text={\"Here is the QR Code!\"}/>)\r\n            } \r\n        })\r\n    }\r\n\r\n    return (\r\n        <article className=\"document-container fd\">\r\n            <p className=\"doc-btn-container\">\r\n                <button onClick={()=>documentHandler(...dataHandler())}>\r\n                    {\r\n                        document.id || document.id === 0 ? \"Edit\" : \"Save\"\r\n                    }\r\n                </button>\r\n                {document.id || document.id === 0 ?<>\r\n                {\r\n                    <>\r\n                    <button onClick={sendPopHandler}>\r\n                        Send\r\n                    </button>\r\n                    <button onClick={show_QR}>\r\n                        Show QR\r\n                    </button>\r\n                    {\r\n                        document.pinned ? \r\n                        <button onClick={unpinClicked}>\r\n                            Unpin\r\n                        </button> :\r\n                        <button onClick={pinPopHandler}>\r\n                            Pin\r\n                        </button>\r\n                    }\r\n                    </>\r\n                }\r\n                </> : \"\"}\r\n                <button onClick={()=>documentLoadHandler(null)}>\r\n                    Exit\r\n                </button>\r\n            </p>\r\n            <CKEditor \r\n                editor={DecoupledEditor}\r\n                data={document.body}\r\n                onReady={editor=>documentInit(editor)}\r\n                config={toolbarConfig} />\r\n            \r\n        </article>\r\n    )\r\n}\r\n\r\nexport default DocumentPage;","import { useEffect } from \"react\"\r\n\r\nconst PanelBackGround = ({classCon, handler, children}) => {\r\n\r\n    const bgClicked = e => {\r\n        if(e.target.classList.contains(`universal-bg`)){\r\n            handler();\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const bg = document.querySelector('.universal-bg');\r\n\r\n        if(bg){\r\n            bg.addEventListener(\"click\", bgClicked)\r\n        }\r\n        return () => {\r\n            if(bg){\r\n                bg.removeEventListener(\"click\", bgClicked)\r\n            }\r\n        }\r\n    },[handler])\r\n\r\n    return (\r\n        <div className={`universal-bg ${classCon}-bg fd`}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PanelBackGround;","import { useCallback, useContext } from 'react';\r\nimport { SideContext } from '../../wrappers/DocumentsScannerEditor';\r\nimport PanelBackGround from '../../wrappers/PanelBackGround';\r\nimport './SideMenu.css';\r\n\r\nconst SideMenu = ({classCon, children}) => {\r\n    const { setSideUser, isAttached } = useContext(SideContext);\r\n\r\n    const SideMain = useCallback(()=>{\r\n        return (\r\n            <aside className={`side-menu ${classCon}`}>\r\n                {children}\r\n                <p>\r\n                    <button onClick={()=>setSideUser(null)}>Close Panel</button>\r\n                </p>\r\n            </aside>\r\n        )\r\n    }, [children])\r\n\r\n    return (\r\n        <>\r\n            {!isAttached ?   \r\n                <PanelBackGround classCon=\"side-menu-not-att\" handler={()=>\"\"}>\r\n                    <SideMain />\r\n                </PanelBackGround> : \r\n                    <SideMain />}\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default SideMenu;","import { useContext, useEffect } from \"react\";\r\nimport useDocuments from \"../../hooks/useDocuments\";\r\nimport DocumentList from \"../../wrappers/DocumentList\";\r\nimport { DocumentContext, SideContext } from \"../../wrappers/DocumentsScannerEditor\";\r\n\r\nconst SidePopUp = () => {\r\n    const {sideUser} = useContext(SideContext);\r\n    const {pinHandler} = useContext(DocumentContext);\r\n    const {documentList, documentFetch, setDocumentList} = useDocuments(sideUser.id, false);\r\n\r\n    useEffect(()=>{\r\n        if(sideUser){\r\n            documentFetch(true);\r\n        }\r\n\r\n        return () =>{\r\n            if(sideUser?.sideClass === \"admin-side\"){\r\n                documentFetch(true, true);\r\n            }else{\r\n                setDocumentList({documents: null});\r\n            }\r\n        };\r\n\r\n    }, [sideUser])\r\n\r\n    const docuClicked = id => {\r\n        documentList.documents.forEach(docu => {\r\n            if(docu.id == id){\r\n                const con = window.confirm(`Are you sure you want to send Document: ${docu.title} to User: ${sideUser.username}?`);\r\n\r\n                if(con){\r\n                    pinHandler(sideUser.username, sideUser.id, docu.id, docu.title).then(()=>{\r\n                        documentFetch(true)\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DocumentList \r\n                documentList={documentList}\r\n                fromWhere={\"profile-side\"}\r\n                handler={docuClicked}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SidePopUp;","import './AdminSide.css';\r\nimport DocumentList from '../../../wrappers/DocumentList';\r\nimport { useContext, useEffect } from 'react';\r\nimport { DocumentContext, MenuContext, SideContext, UserContext } from '../../../wrappers/DocumentsScannerEditor';\r\nimport SidePopUp from '../SidePopUp';\r\nimport useDocuments from '../../../hooks/useDocuments';\r\n\r\nconst AdminSide = ({fetchUsers}) => {\r\n    const { id } = useContext(UserContext);\r\n    const { sideUser } = useContext(SideContext);\r\n\r\n    const activateUser = textPrompt => {\r\n        window.confirm(`User ${sideUser.username} ${textPrompt[1]} commence! You can close the admin window!`);\r\n        fetch('https://document-editor-09.herokuapp.com/admin-activate', {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id,\r\n                userid: sideUser.id\r\n            })\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                fetchUsers();\r\n            }else{\r\n                window.alert(`Error ${textPrompt[0]} user!`);\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n    const deleteUser = txt => {\r\n        window.confirm(`${txt} User ${sideUser.username}!`);\r\n        fetch(`https://document-editor-09.herokuapp.com/admin-delete-user/?id=${id}&userid=${sideUser.id}`, {\r\n            method: 'DELETE',\r\n            mode: 'cors'\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                fetchUsers();\r\n            }else{\r\n                window.alert(`Error deleting ${sideUser.username}`);\r\n            }\r\n        })\r\n    }\r\n\r\n    const changeUserRole = role => {\r\n        window.confirm(`User ${sideUser.username} role will be changed to ${role}!`);\r\n        fetch('https://document-editor-09.herokuapp.com/admin-role-change', {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id,\r\n                userid: sideUser.id,\r\n                role\r\n            })\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                fetchUsers();\r\n            }else{\r\n                window.alert(`Error changing role!`);\r\n            }\r\n        })\r\n    }\r\n\r\n    const adminCheck = (func, data) => {\r\n        // for activate\r\n        // activateUser\r\n        // data is for the textPrompt (activate/deactivate/activating/deactivating) array\r\n\r\n        // for role\r\n        // changeUserRole\r\n        // data is the role changed (admin || normal)\r\n\r\n        // for delete\r\n        // deleteUser\r\n        // data is text (txt)\r\n        const password = window.prompt(\"Please Enter your password\");\r\n\r\n        if(password){\r\n            fetch('https://document-editor-09.herokuapp.com/admin-check',{\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    id,\r\n                    password\r\n                })\r\n            })\r\n            .then(resp=>{\r\n                if(resp.ok){\r\n                    func(data);\r\n                }else{\r\n                    window.alert('Wrong password');\r\n                }\r\n            })\r\n        }else{\r\n            window.alert('Password Empty');\r\n        }\r\n    }\r\n\r\n    const usernameCheck = text => {\r\n        const username = window.prompt(`Please Enter username of the user you are ${text}`);\r\n\r\n        return username === sideUser.username ? true : window.alert('Wrong username entered!');\r\n    }\r\n\r\n    const activateHandler = e => {\r\n        e.preventDefault();\r\n        const textPrompt = sideUser.activated ? [\"deactivating\", \"deactivation\"] : [\"activating\", \"activation\"];\r\n\r\n        if(usernameCheck(textPrompt[0])){\r\n            adminCheck(activateUser, textPrompt);\r\n        }\r\n    }\r\n\r\n    const deleteHandler = e =>{\r\n        e.preventDefault();\r\n        const txt = \"Deleting\";\r\n\r\n        if(usernameCheck(txt)){\r\n            adminCheck(deleteUser, txt);\r\n        }\r\n    }\r\n\r\n    const roleHandler = e => {\r\n        e.preventDefault();\r\n        const conF = window.confirm(`Change role to ${sideUser.role === 'admin' ? 'normal' : 'admin'}?`)\r\n\r\n        if(conF){\r\n            const newRole = sideUser.role === 'admin' ? 'normal' : 'admin';\r\n            adminCheck(changeUserRole, newRole)\r\n        }\r\n    }\r\n\r\n    const {documentFetch, documentList} = useDocuments(sideUser.id, false);\r\n    const {unpinHandler} = useContext(DocumentContext);\r\n\r\n    useEffect(()=>{\r\n        documentFetch(true, true);\r\n    }, [sideUser])\r\n\r\n    const docuClicked = async docid => {\r\n        const con = window.confirm(\"Are you sure you want to unpin this document?\");\r\n\r\n        if(con){\r\n            await unpinHandler(sideUser.id, docid);\r\n            documentFetch(true, true);\r\n        }\r\n    }\r\n\r\n    const { popUpHandler } = useContext(MenuContext);\r\n\r\n    return(\r\n        <>\r\n            <h1>{`User: ${sideUser.username}`}</h1>\r\n            <p>\r\n                <button type=\"button\" onClick={activateHandler}>{sideUser.activated ? \"Deactivate\" : \"Activate\"} this User</button>\r\n            </p>\r\n            {!sideUser.activated && id === 0 ?\r\n            <p>\r\n                <button type=\"button\" onClick={deleteHandler}>Delete {sideUser.username}</button>\r\n            </p>: \r\n            <div>\r\n                <div>\r\n                    <p>\r\n                        Pinned Posts\r\n                    </p>\r\n                    <p>\r\n                        <button onClick={()=>{\r\n                            popUpHandler(true, 'admin-side', <SidePopUp />)\r\n                        }}>Add pin</button>\r\n                    </p>\r\n                    {documentList?.documents ? \r\n                    <DocumentList \r\n                        documentList={documentList} \r\n                        handler={docuClicked}\r\n                        fromWhere=\"admin-side-pinned\"\r\n                    /> : \"None\"}\r\n                </div>\r\n            </div>}\r\n            {sideUser.role ? \r\n            <p>\r\n                <button type=\"button\" onClick={roleHandler}>Change User role to {sideUser.role === 'admin' ? 'Normal' : 'Admin'}</button>\r\n            </p> : \"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminSide;","import { useContext, useEffect } from 'react';\r\nimport SideMenu from '../../SideMenu/SideMenu';\r\nimport AdminSide from '../../SideMenu/Admin/AdminSide';\r\nimport UserLists from '../../../wrappers/UserLists';\r\nimport './AdminMenu.css';\r\nimport { SideContext, UserContext } from '../../../wrappers/DocumentsScannerEditor';\r\nimport useUsers from '../../../hooks/useUser';\r\n\r\nconst AdminMenu = () => {\r\n    const { sideUser, setSideUser } = useContext(SideContext);\r\n    const { id } = useContext(UserContext);\r\n    const { users, isLoaded, fetchUsers, clearUsers } = useUsers(id);\r\n\r\n    const adminSideMenuHandler = (userid=null, fromList=false) => {\r\n        let flowChk = true;\r\n        if(userid){\r\n            if(sideUser){\r\n                if(sideUser.userid === userid && fromList){\r\n                    flowChk = false;\r\n                }\r\n            }\r\n        }else{\r\n            flowChk = false;\r\n        }\r\n\r\n        if(flowChk){\r\n            let found = false;\r\n            if(users){\r\n                users.forEach(user => {\r\n                    if(user.id === userid){\r\n                        found = true;\r\n                        setSideUser({\r\n                            id: userid,\r\n                            username: user.username,\r\n                            activated: user.activated,\r\n                            role: id===0 ? user.role : null,\r\n                            sideClass: \"admin-side\"\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n\r\n            if(!found){\r\n                flowChk = found;\r\n            }\r\n        }\r\n\r\n        if(!flowChk){\r\n            setSideUser(null);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if((users && sideUser) || (!users && sideUser)){\r\n            adminSideMenuHandler(sideUser.userid);\r\n        }\r\n    }, [users])\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            setSideUser(null);\r\n            clearUsers();\r\n        }\r\n    },[])\r\n\r\n    const userClickedHandler = e => {\r\n        e.preventDefault();\r\n        adminSideMenuHandler(Number(e.target.getAttribute('data-id')), true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoaded && Array.isArray(users) ? \r\n                <UserLists \r\n                    users={users} \r\n                    handler={userClickedHandler}\r\n                    fromWhere={\"admin\"}\r\n                /> \r\n            : <p>Loading Users!</p>}\r\n\r\n            {sideUser && sideUser?.sideClass == 'admin-side' ? \r\n                <SideMenu \r\n                    classCon={'admin-side-container'}>\r\n                    <AdminSide \r\n                        fetchUsers={fetchUsers}\r\n                        sideMenuHandler={adminSideMenuHandler}/>\r\n                </SideMenu> : \"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminMenu;","import { useState, useContext } from 'react';\r\nimport { MenuContext, UserContext } from '../../../wrappers/DocumentsScannerEditor';\r\nimport { emailCheck, mobileCheck } from './../../Home/LandingPage/UserCheck';\r\nimport './ProfilePopUp.css'\r\n\r\nconst ProfilePopUp = ({fromWhere}) => {\r\n    const labelTxt = fromWhere.charAt(0).toUpperCase() + fromWhere.slice(1);\r\n    const { id, mobile, email, updateUser } = useContext(UserContext);\r\n    const { popUpHandler } = useContext(MenuContext);\r\n\r\n    const [ inputVal, setInputVal ] = useState(\"\");\r\n\r\n    const formHandler = e => {\r\n        e.preventDefault();\r\n\r\n        let chk;\r\n        let errText;\r\n\r\n        if ( fromWhere === 'mobile' ) {\r\n            if ( mobile === inputVal ) {\r\n                window.alert(\"No change detected!\");\r\n                return\r\n            } else {\r\n                [chk, errText] = mobileCheck(inputVal);\r\n            }\r\n        } else {\r\n            if ( email === inputVal ) {\r\n                window.alert(\"No change detected!\");\r\n                return\r\n            } else {\r\n                chk = emailCheck(inputVal);\r\n                errText = \"Email not valid!\"\r\n            }\r\n        }\r\n\r\n\r\n        if ( chk ) {\r\n            fetch(`http://127.0.0.1:5000/update-user`, {\r\n                method: 'PUT',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    userid: id,\r\n                    val: inputVal.toLowerCase(),\r\n                    which: fromWhere\r\n                })\r\n            }).then(resp=>{\r\n                if ( resp.ok ) {\r\n                    updateUser(fromWhere, inputVal);\r\n                    window.confirm(\"User updated!\");\r\n                    popUpHandler();\r\n                } else {\r\n                    window.alert(\"Updating User Error!\")\r\n                }\r\n            })\r\n        } else {\r\n            window.alert(errText);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <h1>\r\n                    profile header\r\n             </h1>\r\n            </div>\r\n            <form onSubmit={formHandler} className=\"fd\">\r\n                <p className=\"fd\">\r\n                    <label htmlFor={fromWhere}>{labelTxt}</label>\r\n                    <input \r\n                        id={{fromWhere}}\r\n                        type={fromWhere === \"mobile\" ? \"tel\" : \"email\"}\r\n                        value={inputVal}\r\n                        onChange={e=>setInputVal(e.target.value)}\r\n                        >\r\n                    </input>\r\n                </p>\r\n                <p>\r\n                    <button type=\"submit\">\r\n                        Submit\r\n                    </button>\r\n                </p>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfilePopUp;","import { useContext } from \"react/cjs/react.development\"\r\nimport { MenuContext, UserContext } from \"../../../wrappers/DocumentsScannerEditor\"\r\nimport ProfilePopUp from \"./ProfilePopUp\";\r\n\r\nconst ProfileChange = () => {\r\n    const { username, mobile, role, email } = useContext(UserContext);\r\n    const { popUpHandler } = useContext(MenuContext);\r\n\r\n    const emailHandler = e => {\r\n        e.preventDefault();\r\n        popUpHandler(true, \"profile-change\", <ProfilePopUp fromWhere={'email'}/>)\r\n    }\r\n\r\n    const mobileHandler = e => {\r\n        e.preventDefault();\r\n        popUpHandler(true, \"profile-change\", <ProfilePopUp fromWhere={'mobile'}/>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <p>{`User: ${username}`}</p>\r\n            <p>{`Role: ${role}`}</p>\r\n            <p>\r\n                <label htmlFor=\"email\">Email: </label>\r\n                <button onClick={emailHandler} id=\"email\">{email}</button>\r\n            </p>\r\n            <p>\r\n                <label htmlFor=\"mobile\">Mobile: </label>\r\n                <button onClick={mobileHandler} id=\"mobile\">{mobile ? mobile : \"None\"}</button>\r\n            </p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileChange;","import { useContext } from \"react\";\r\nimport { MenuContext, SideContext, UserContext } from \"../../../wrappers/DocumentsScannerEditor\";\r\nimport './ProfileSide.css';\r\nimport SidePopUp from \"../SidePopUp\";\r\n\r\nconst ProfileSide = ({fetchUsers}) => {\r\n    const { sideUser, setSideUser } = useContext(SideContext);\r\n    const { id } = useContext(UserContext);\r\n    const { popUpHandler } = useContext(MenuContext);\r\n\r\n    const profileSubordinateHandler = e => {\r\n        const whichFrom = e.target.getAttribute('data-sub');\r\n\r\n        if(whichFrom === 'subordinate'){\r\n            fetch(`https://document-editor-09.herokuapp.com/remove-subordinate/?id=${id}&userid=${sideUser.id}`, {\r\n                method: 'DELETE',\r\n                mode: 'cors'\r\n            }).then(resp=>{\r\n                if(resp.ok){\r\n                    fetchUsers(true);\r\n                    setSideUser(null);\r\n                }else{\r\n                    console.log(\"error removing subordinate\");\r\n                }\r\n            })\r\n        }else{\r\n            fetch(`https://document-editor-09.herokuapp.com/add-subordinate`, {\r\n                method: 'PUT',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    id,\r\n                    userid: sideUser.id\r\n                })\r\n            }).then(resp=>{\r\n                if(resp.ok){\r\n                    fetchUsers(true);\r\n                    setSideUser(null);\r\n                }else{\r\n                    console.log(\"error adding subordinate\");\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"side-head-container\">\r\n            <p>\r\n            {sideUser.username}\r\n            </p>\r\n            <p>\r\n                <button className=\"addBtn\" \r\n                data-sub={sideUser.sideClass === 'profile-subordinate' ? 'subordinate' : 'stranger'}\r\n                onClick={profileSubordinateHandler}\r\n                >\r\n                    {sideUser.sideClass === 'profile-subordinate'?\r\n                    \"Remove as Subordinate\" : \"Add as Subordinate\"}\r\n                </button>\r\n            </p>\r\n        </div>\r\n        <p>\r\n            <button onClick={()=>{\r\n                popUpHandler(true, \"profile-side\", <SidePopUp />)\r\n            }}>Send a document</button>\r\n        </p>\r\n        {sideUser.sideClass === 'profile-subordinate' ? \r\n        <div>\r\n            <p>\r\n            {`mobile: ${sideUser.mobile}`}\r\n            </p>\r\n            <p>\r\n            {`email: ${sideUser.email}`}\r\n            </p>\r\n        </div>:\"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileSide;","import { useContext, useEffect, useState } from \"react/cjs/react.development\";\r\nimport { SideContext, MenuContext } from \"../../../wrappers/DocumentsScannerEditor\";\r\nimport UserLists from \"../../../wrappers/UserLists\";\r\n\r\nconst Subordinate = ({users, isLoaded}) => {\r\n    const { sideUser, setSideUser } = useContext(SideContext);\r\n    const { searchHandler } = useContext(MenuContext);\r\n\r\n    const subordinateUserHandler = e => {\r\n        let sideClass = null;\r\n        let id = null;\r\n        let username = null;\r\n\r\n        if('sideClass' in e){\r\n            sideClass = e.sideClass;\r\n            id = e.id;\r\n            username = e.username;\r\n        }else{\r\n            sideClass = e.target.parentNode.parentNode.classList[0].replace(\"-list\",\"\");\r\n            id = Number(e.target.getAttribute('data-id'));\r\n            username = e.target.innerHTML;\r\n        }\r\n\r\n        let flowChk = true;\r\n        if(sideUser){\r\n            if(sideUser.id === id && sideUser.sideClass === sideClass && !e?.reLoad){\r\n                flowChk = false;\r\n            }\r\n        }\r\n\r\n        if(flowChk){\r\n            let mobile = null\r\n            let email = null\r\n\r\n            users.sub_users.forEach(user=>{\r\n                if(user.id === id){\r\n                    mobile = user.mobile;\r\n                    email = user.email;\r\n                }\r\n            })\r\n\r\n            setSideUser({\r\n                id,\r\n                username,\r\n                mobile,\r\n                email,\r\n                sideClass\r\n            })\r\n        }else{\r\n            setSideUser(null);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            setSideUser(null);\r\n        }\r\n    },[])\r\n\r\n    const [searchUser, setSearchUser] = useState(\"\");\r\n    const [usersSearched, setSearches] = useState(null);\r\n\r\n    const searchEnter = e => {\r\n        if(e.code===\"Enter\" && usersSearched){\r\n            subordinateUserHandler({\r\n                id: usersSearched[0].id,\r\n                username: usersSearched[0].username,\r\n                sideClass: 'profile-search'\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setSearchUser(\"\");\r\n        setSearches(null);\r\n    }, [sideUser])\r\n\r\n    useEffect(()=>{\r\n        setSearches(searchHandler(users?.nonsub_users, searchUser, \"user\"));\r\n    }, [searchUser])\r\n\r\n    return(\r\n        <>\r\n            <div className=\"subordinate-search-container\">\r\n                <p>\r\n                    <label htmlFor=\"search-user\">Search for a User: </label>\r\n                    <input type=\"text\" id=\"search-user\" value={searchUser} onChange={e=>setSearchUser(e.target.value.toLowerCase())} onKeyDown={searchEnter}></input>\r\n                    {usersSearched ?\r\n                    <UserLists \r\n                        users={usersSearched}\r\n                        handler={subordinateUserHandler}\r\n                        fromWhere={\"profile-search\"}\r\n                    /> : \"\"}\r\n                </p>\r\n            </div>\r\n            <p>Subordinates:</p>\r\n            {isLoaded ? \r\n            <UserLists \r\n                users={users?.sub_users} \r\n                handler={subordinateUserHandler}\r\n                fromWhere={\"profile-subordinate\"}\r\n            />\r\n            : <p>Loading users</p>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Subordinate;","import './ProfileMenu.css';\r\nimport { useContext, useState } from 'react/cjs/react.development';\r\nimport ProfileChange from './ProfileChange';\r\nimport { SideContext, UserContext } from '../../../wrappers/DocumentsScannerEditor';\r\nimport SideMenu from '../../SideMenu/SideMenu';\r\nimport ProfileSide from '../../SideMenu/Profile/ProfileSide';\r\nimport Subordinate from './Subordinate';\r\nimport useUsers from '../../../hooks/useUser';\r\n\r\nconst ProfileMenu = () => {\r\n    const { sideUser } = useContext(SideContext);\r\n    const [profilePanel, setPanel] = useState('user-settings');\r\n    const { id } = useContext(UserContext);\r\n    const { users, isLoaded, fetchUsers } = useUsers(id, true);\r\n    \r\n    const panelBtnHandler = e =>{\r\n        e.preventDefault();\r\n        console.log(\"what why\")\r\n\r\n        profilePanel === 'user-settings' ? setPanel('subordinate') : setPanel('user-settings');\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className={`${profilePanel}-container`}>\r\n            <p>\r\n                <button onClick={panelBtnHandler}>\r\n                    {\r\n                        profilePanel === 'user-settings' ? \"Subordinate\" : \"User Settings\"\r\n                    }\r\n                </button>\r\n            </p>\r\n            {profilePanel === 'user-settings' ? \r\n            <ProfileChange/> :\r\n            <Subordinate users={users} isLoaded={isLoaded} />}\r\n        </div>\r\n        {sideUser && (sideUser?.sideClass === 'profile-search' || sideUser?.sideClass === 'profile-subordinate') ?\r\n            <SideMenu   \r\n                classCon={`profile-side-container ${sideUser.sideClass}-container`}>\r\n                    <ProfileSide fetchUsers={fetchUsers}/>\r\n            </SideMenu>:\"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileMenu;","import { useContext, useCallback } from 'react';\r\nimport './UserMenu.css';\r\nimport AdminMenu from './Admin/AdminMenu';\r\nimport ProfileMenu from './Profile/ProfileMenu';\r\nimport { MenuContext, SideContext, UserContext } from '../../wrappers/DocumentsScannerEditor';\r\nimport PanelBackGround from '../../wrappers/PanelBackGround';\r\n\r\nconst UserMenu = ({ openMenu }) => {\r\n    const { menuHandler } = useContext(MenuContext);\r\n    const { isAttached } = useContext(SideContext);\r\n    const { id, role } = useContext(UserContext)\r\n\r\n    const MenuSection = useCallback(() => {\r\n        return ( \r\n            <PanelBackGround classCon={'user-menu'} handler={menuHandler}>\r\n                <section className={`user-menu ${openMenu}-container fd`}>\r\n                    <div className={`${openMenu}-title`}>\r\n                        <h1>{openMenu === 'admin' ? 'Admin' : 'Profile'}</h1>\r\n                    </div>\r\n                    {openMenu === 'admin' ? \r\n                        <AdminMenu /> : \r\n                        <ProfileMenu />}\r\n                </section>\r\n            </PanelBackGround>\r\n        )\r\n    }, [id, openMenu])\r\n\r\n    const HomeMenuSection = useCallback(() => {\r\n        return (\r\n            <section className={`homeuser-menu-container`}>\r\n                {role === 'admin' && \r\n                <div className=\"fd\">\r\n                    <h1>Admin</h1>\r\n                    <AdminMenu />\r\n                </div>}\r\n                <div className=\"fd\">\r\n                    <h1>Profile</h1>\r\n                    <ProfileMenu />\r\n                </div>\r\n            </section>\r\n        )\r\n    }, [id])\r\n\r\n    return (\r\n        <>\r\n        {isAttached ? <MenuSection/> :\r\n        <HomeMenuSection />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserMenu;","import UserMenu from \"../../UserMenu/UserMenu\";\r\n\r\nconst AsideHome = () => {\r\n    return (\r\n        <>\r\n            <UserMenu />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AsideHome;","import { useContext, useEffect } from 'react';\r\nimport './DocumentCentral.css';\r\nimport DocumentPage from './DocumentPage';\r\nimport DocumentList from '../../../wrappers/DocumentList';\r\nimport AsideHome from './AsideHome';\r\nimport { DocumentContext, MenuContext, SideContext, UserContext } from '../../../wrappers/DocumentsScannerEditor';\r\nimport useDocuments from '../../../hooks/useDocuments';\r\nimport QRSavedPopUp from './QRSavedPopUp';\r\n\r\nconst DocumentCentral = () => {\r\n    const {isAttached} = useContext(SideContext);\r\n    const {id} = useContext(UserContext);\r\n\r\n    const {documentList, documentFetch} = useDocuments(id)\r\n    const {document, setDocument, documentFind} = useContext(DocumentContext);\r\n\r\n    const documentLoadHandler = id => {\r\n        if(!id && id!==0){\r\n            setDocument(null);\r\n        }else{\r\n            if(id===true){\r\n                setDocument({\r\n                    id: null,\r\n                    body: \"\"\r\n                })\r\n            }else{\r\n                documentFind(id, documentList);\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(document && documentList?.documents){\r\n            documentFind(document.id, documentList);\r\n        }\r\n    }, [documentList])\r\n    \r\n    useEffect(()=>{\r\n        if(document?.id && !document?.body){\r\n            documentFind(document.id, documentList);\r\n        }\r\n    }, [document])\r\n\r\n    const documentChk = (text) => {\r\n        const title = window.prompt(text);\r\n\r\n        if(title && title.replace(/\\s/g, '').length){\r\n            return title;\r\n        }else{\r\n            window.alert(\"Title empty!\");\r\n            return null;\r\n        }\r\n    }\r\n\r\n    const documentHandler = (id, doc) => {\r\n        if(doc){\r\n            let data = {\r\n                document: doc\r\n            }\r\n\r\n            if(id || id===0){\r\n                if(data.document === document.body){\r\n                    window.alert(\"No change detected!\");\r\n                }else{\r\n                    data.title = documentChk(\"Enter the title of the document you are editing!\");\r\n                    if(data.title){\r\n                        data.id = id;\r\n                        documentEdit(data);\r\n                    }\r\n                }\r\n            }else{\r\n                data.title = documentChk(\"Enter title here!\");\r\n                if(data.title){\r\n                    documentSave(data);\r\n                }\r\n            }\r\n        }else{\r\n            console.log(\"empty!\");\r\n        }\r\n    }\r\n\r\n    const { popUpHandler } = useContext(MenuContext);\r\n\r\n    const documentSave = data => {\r\n        fetch(' https://document-editor-09.herokuapp.com/document/add', {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                return resp.json();\r\n            }else{\r\n                throw Error('Error adding data');\r\n            }\r\n        }).then(( { id, qr_code } )=>{\r\n\r\n            setDocument({\r\n                id,\r\n                body: \"\"\r\n            });\r\n\r\n            documentFetch();\r\n            popUpHandler(true, \"qr-saved\", <QRSavedPopUp qr_image={qr_code}/>)\r\n\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    const documentEdit = data => {\r\n        fetch('https://document-editor-09.herokuapp.com/document/edit', {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(resp=>{\r\n            if(resp.ok){\r\n                return resp.json();\r\n            }else{\r\n                throw Error('Error updating data');\r\n            }\r\n        }).then(()=>{\r\n            documentFetch();\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"fd universal-container\">\r\n            {document ? \r\n            <DocumentPage \r\n                documentLoadHandler={documentLoadHandler} \r\n                document={document} documentHandler={documentHandler} \r\n                setDocument={setDocument} \r\n                documentFetch={documentFetch}/> : \r\n            <>\r\n            <section className=\"central-container\">\r\n                <p className=\"btn-container\">\r\n                    <button onClick={()=>documentLoadHandler(true)}>Add</button>\r\n                </p>\r\n            {documentList ? <DocumentList handler={documentLoadHandler} documentList={documentList} fromWhere={'document-central'}/> : \"Please wait!\"}\r\n                </section>\r\n            </>}\r\n                {!isAttached && !document && <AsideHome />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentCentral;","import { useContext } from \"react\";\r\nimport { MenuContext } from \"./DocumentsScannerEditor\";\r\nimport PanelBackGround from \"./PanelBackGround\";\r\n\r\nconst PopUpAside = ({children, fromWhere}) => {\r\n    const {popUpHandler} = useContext(MenuContext);\r\n\r\n    return (\r\n        <PanelBackGround classCon=\"pop-up\" handler={popUpHandler}>\r\n            <aside className={`pop-up-container pop-${fromWhere}`}>\r\n                {children}\r\n            </aside>\r\n        </PanelBackGround>\r\n    )\r\n}\r\n\r\nexport default PopUpAside;","import './Home-style.css'\r\nimport LandingPage from './LandingPage/LandingPage';\r\nimport DocumentCentral from './DocumentCentral/DocumentCentral';\r\nimport { useContext, useLayoutEffect } from 'react';\r\nimport { MenuContext, SideContext } from '../../wrappers/DocumentsScannerEditor';\r\nimport PopUpAside from '../../wrappers/PopUpAside';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\n\r\nconst Home = ({ logIn }) => {\r\n    const { popUp, openMenu } = useContext(MenuContext);\r\n    const {setAttached} = useContext(SideContext);\r\n\r\n    const windowWidth = () => {\r\n        if(window.innerWidth >= 1050){\r\n            setAttached(true)\r\n        }else if(window.innerWidth <= 1049){\r\n            setAttached(false)\r\n        }\r\n    }\r\n\r\n    useLayoutEffect(()=>{\r\n        windowWidth();\r\n        window.addEventListener(\"resize\", windowWidth);\r\n        return ()=>window.removeEventListener(\"resize\", windowWidth)\r\n    }, [])\r\n\r\n    const classForMain = logIn ? \"homepage-container\" : \"landingpage-container\";\r\n\r\n    return (\r\n        <main className={`${classForMain}`} >\r\n            {popUp.openUp ? \r\n                <PopUpAside fromWhere={popUp.fromWhere}>\r\n                    {popUp.Compo}\r\n                </PopUpAside> : \"\"}\r\n             {openMenu && <UserMenu openMenu={openMenu}/>}\r\n            {logIn ? \r\n            <DocumentCentral /> :\r\n            <LandingPage />}\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Home;","import { useState, useEffect, createContext } from \"react\";\r\nimport Headers from '../components/Headers/Headers';\r\nimport Home from '../components/Home/Home';\r\n\r\nconst UserContext = createContext(null);\r\nconst MenuContext = createContext(null);\r\nconst SideContext = createContext(null);\r\nconst DocumentContext = createContext(null);\r\n\r\nexport default  function DocumentsScannerEditor() {\r\n    const pinHandler = ( username, userid, docid, doctitle) => {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(`https://document-editor-09.herokuapp.com/document/pin-doc`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    userid,\r\n                    docid,\r\n                    doctitle\r\n                })\r\n            }).then(resp=>{\r\n                if(resp.ok){\r\n                    if ( userid === user.id ) {\r\n                        window.confirm(`Document: ${doctitle} is pinned for you! User ${username}`)\r\n                    } else {\r\n                        window.confirm(`Document: ${doctitle} is sent to User ${username}`);\r\n                    }\r\n\r\n                    resolve();\r\n                }else{\r\n                    console.log(\"error pinning\");\r\n                    reject();\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    const unpinHandler = (userid, docid) => {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(`https://document-editor-09.herokuapp.com/document/unpin-doc/?userid=${userid}&docid=${docid}`,{\r\n                method: 'DELETE',\r\n                mode: 'cors'\r\n            }).then(resp=>{\r\n                if(resp.ok){\r\n                    window.confirm(\"Unpinning document done!\");\r\n                    resolve();\r\n                }else{\r\n                    window.alert(\"Unpinning document error!\");\r\n                    reject();\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    const [logIn, setLogIn] = useState(false);\r\n    const [user, setUser] = useState(null);\r\n    const [openMenu, setOpen] = useState(null);\r\n\r\n    const logInHandle = (_user = null) => {\r\n        setUser(_user);\r\n        if(_user){\r\n            setLogIn(true);\r\n        }else{\r\n            setLogIn(false);\r\n        }\r\n    }\r\n\r\n    const updateUser = (fromWhere, val) => {\r\n        setUser({\r\n            ...user,\r\n            [fromWhere]: val\r\n        })\r\n    }\r\n\r\n    const menuHandler = (whichFrom=null) =>{\r\n        setOpen(whichFrom);\r\n    }\r\n\r\n    const [sideUser, setSideUser] = useState(null);\r\n\r\n    const searchHandler = (arr, search, fromWhere) => {\r\n        if(!arr){\r\n            return null\r\n        }\r\n\r\n        let _search;\r\n\r\n        if(isNaN(search)){\r\n            _search = search.toLowerCase();\r\n        }else{\r\n            _search = search;\r\n        }\r\n\r\n        let _arr = fromWhere === 'document' ? {documents: []} : [];\r\n        arr.forEach(item => {\r\n            if(fromWhere === 'user'){\r\n                if(item?.username.includes(_search) || item?.fullname.includes(_search) || item?.id === Number(_search)){\r\n                    _arr.push({\r\n                        id: item.id,\r\n                        fullname: item.fullname,\r\n                        username: item.username\r\n                    })\r\n                }\r\n            }else if(fromWhere === 'document'){\r\n                if(item?.id === Number(_search) || item?.title?.includes(_search)){\r\n                    _arr.documents.push({\r\n                        id: item.id,\r\n                        title: item.title\r\n                    })\r\n                }\r\n            }\r\n        })\r\n\r\n        if(search && (_arr.length > 0 || _arr.documents?.length > 0)){\r\n            return _arr\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n\r\n    const [popUp, setPopUp] = useState({\r\n        openUp: false\r\n    });\r\n\r\n    const popUpHandler = (openUp=false, fromWhere=null, Compo=null) => {\r\n        if(openUp){\r\n            if(fromWhere){\r\n                setPopUp({\r\n                    openUp,\r\n                    fromWhere,\r\n                    Compo\r\n                })\r\n            }else{\r\n                setPopUp({\r\n                    ...popUp, openUp\r\n                })\r\n            }\r\n        }else{\r\n            setPopUp({openUp})\r\n        }\r\n    }\r\n\r\n    const [isAttached, setAttached] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        if(openMenu && !isAttached){\r\n            setOpen(false);\r\n        }\r\n    },[isAttached])\r\n\r\n    \r\n    const [document, setDocument] = useState(null);\r\n\r\n    const documentFind = (id, documentList) => {\r\n        documentList.documents.forEach(doc => {\r\n            if(doc.id===id){\r\n                setDocument({\r\n                    id,\r\n                    title: doc.title,\r\n                    body: doc.document,\r\n                    pinned: doc.pinned\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MenuContext.Provider value={{\r\n                logInHandle, \r\n                menuHandler,\r\n                searchHandler,\r\n                popUpHandler,\r\n                popUp,\r\n                openMenu\r\n            }}>\r\n                <UserContext.Provider value={{\r\n                    id: user ? user.id : null,\r\n                    username: user ? user.username : null,\r\n                    role: user ? user.role : null,\r\n                    mobile: user ? user.mobile : null,\r\n                    email: user ? user.email : null,\r\n                    updateUser\r\n                }}>\r\n                    <DocumentContext.Provider value={{\r\n                        document,\r\n                        documentFind,\r\n                        setDocument,\r\n                        pinHandler,\r\n                        unpinHandler\r\n                    }}>\r\n                        <SideContext.Provider value={{\r\n                        setSideUser,\r\n                        sideUser,\r\n                        isAttached,\r\n                        setAttached\r\n                        }}>\r\n                            <Headers logIn={logIn}/>\r\n                            <Home logIn={logIn}/>\r\n                        </SideContext.Provider>\r\n                    </DocumentContext.Provider>\r\n                </UserContext.Provider>\r\n            </MenuContext.Provider>\r\n        </>\r\n    )\r\n}\r\n\r\nexport { UserContext, MenuContext, SideContext, DocumentContext };","import './App.css';\r\nimport ErrorBoundary from './wrappers/ErrorBoundary';\r\nimport DocumentsScannerEditor from './wrappers/DocumentsScannerEditor';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <>\r\n      <ErrorBoundary>\r\n        <DocumentsScannerEditor />\r\n      </ErrorBoundary>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}